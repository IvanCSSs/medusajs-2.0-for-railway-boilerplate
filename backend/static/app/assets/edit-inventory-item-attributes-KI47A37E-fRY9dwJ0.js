import{C as b}from"./chunk-BW4QA6B6-D7Qkz6P4.js";import{a as I,u as y,bA as F,j as e,H as w,c as C,e as E,dE as _,t as v,F as r,I as c,B as f,o as L,s as m,n as x}from"./index-S35l5lon.js";import{K as M}from"./chunk-6HTZNHPT-USxWRfar.js";import{a as u,u as S}from"./chunk-AERWK3TJ-Gph8MRZF.js";import"./select-CmrtK7XQ.js";import"./check-B9bFzKnZ.js";import"./triangles-mini-CX2619vl.js";import"./focus-modal-B7NOABos.js";import"./prompt-YaiseBxh.js";var A=L({height:x().positive().optional(),width:x().positive().optional(),length:x().positive().optional(),weight:x().positive().optional(),mid_code:m().optional(),material:m().optional(),hs_code:m().optional(),origin_country:m().optional()}),T=o=>({height:o.height??void 0,width:o.width??void 0,length:o.length??void 0,weight:o.weight??void 0,mid_code:o.mid_code??void 0,material:o.material??void 0,hs_code:o.hs_code??void 0,origin_country:o.origin_country??void 0}),B=({item:o})=>{const{t:s}=y(),{handleSuccess:h}=S(),n=C({defaultValues:T(o),resolver:E(A)}),{mutateAsync:j,isPending:p}=_(o.id),g=n.handleSubmit(async t=>{await j(t,{onSuccess:()=>{v.success(s("inventory.toast.updateItem")),h()},onError:l=>v.error(l.message)})});return e.jsx(u.Form,{form:n,children:e.jsxs(M,{onSubmit:g,className:"flex flex-1 flex-col overflow-hidden",children:[e.jsxs(u.Body,{className:"flex flex-1 flex-col gap-y-4 overflow-auto",children:[e.jsx(r.Field,{control:n.control,name:"height",render:({field:{onChange:t,value:l,...a}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.height")}),e.jsx(r.Control,{children:e.jsx(c,{type:"number",min:0,value:l||"",onChange:d=>{const i=d.target.value;t(i===""?null:parseFloat(i))},...a})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"width",render:({field:{onChange:t,value:l,...a}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.width")}),e.jsx(r.Control,{children:e.jsx(c,{type:"number",min:0,value:l||"",onChange:d=>{const i=d.target.value;t(i===""?null:parseFloat(i))},...a})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"length",render:({field:{onChange:t,value:l,...a}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.length")}),e.jsx(r.Control,{children:e.jsx(c,{type:"number",min:0,value:l||"",onChange:d=>{const i=d.target.value;t(i===""?null:parseFloat(i))},...a})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"weight",render:({field:{onChange:t,value:l,...a}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.weight")}),e.jsx(r.Control,{children:e.jsx(c,{type:"number",min:0,value:l||"",onChange:d=>{const i=d.target.value;t(i===""?null:parseFloat(i))},...a})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"mid_code",render:({field:t})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.midCode")}),e.jsx(r.Control,{children:e.jsx(c,{...t})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"hs_code",render:({field:t})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.hsCode")}),e.jsx(r.Control,{children:e.jsx(c,{...t})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"material",render:({field:t})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.material")}),e.jsx(r.Control,{children:e.jsx(c,{...t})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"origin_country",render:({field:t})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.countryOfOrigin")}),e.jsx(r.Control,{children:e.jsx(b,{...t})}),e.jsx(r.ErrorMessage,{})]})})]}),e.jsx(u.Footer,{children:e.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[e.jsx(u.Close,{asChild:!0,children:e.jsx(f,{variant:"secondary",size:"small",children:s("actions.cancel")})}),e.jsx(f,{type:"submit",size:"small",isLoading:p,children:s("actions.save")})]})})]})})},U=()=>{const{id:o}=I(),{t:s}=y(),{inventory_item:h,isPending:n,isError:j,error:p}=F(o),g=!n&&h;if(j)throw p;return e.jsxs(u,{children:[e.jsx(u.Header,{children:e.jsx(w,{children:s("products.editAttributes")})}),g&&e.jsx(B,{item:h})]})};export{U as Component};
