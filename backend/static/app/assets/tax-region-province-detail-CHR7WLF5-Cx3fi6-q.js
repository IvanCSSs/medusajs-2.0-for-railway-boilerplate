import{T as f,u as v,a as R}from"./chunk-PXYBVXI7-DGryLF3q.js";import"./chunk-IFFVQD5Q-CYuRkI39.js";import"./chunk-FMPUXSXC-DpF6ipvW.js";import{T}from"./chunk-EGD5UUDW-D7jeo1Iu.js";import{i as h,a as y}from"./chunk-EHAU7SOS-CihDnY6t.js";import"./chunk-KEQOAJC2-7WPNwWw4.js";import{a as j,P as b,cZ as c,m as _,j as t,a1 as P,O as C,cV as D,M as S,u as d,C as u,T as O,G as w,H as E,k as B}from"./index-S35l5lon.js";import{a as k}from"./chunk-MFALVTRQ-BD7iJ2f3.js";import{u as q}from"./chunk-HI6URQ7H-C9eEBFjx.js";import{S as L}from"./chunk-GIZFNLKK-DRFYVOmD.js";import"./chunk-ULVVVKLF-DQ5i1kAh.js";import"./chunk-GU5PJRPM-CRBxyP7n.js";import"./chunk-6HTZNHPT-USxWRfar.js";import"./chunk-AERWK3TJ-Gph8MRZF.js";import"./chunk-4FM6S5CX-BpW1LsFY.js";import"./chunk-ASIIOFVB-BHdj0c6d.js";import"./chunk-HQKGZADC-CFjwmGLF.js";import"./table-u7knMi01.js";import"./chunk-EMIHDNB7-1UnYIHIF.js";import"./plus-mini-B5zW_eay.js";import"./index-D8hIMFbh.js";import"./pencil-square-Y_YO1xMN.js";import"./trash-VeZKzNu3.js";import"./arrow-down-right-mini-BkrFKUze.js";import"./status-badge-CXGqPLdn.js";import"./chunk-PRLQLEEQ-CKYDE1LK.js";import"./select-CmrtK7XQ.js";import"./check-B9bFzKnZ.js";import"./triangles-mini-CX2619vl.js";import"./chunk-AABJNP6V-CY9S8G87.js";import"./chunk-C76H5USB-C4gmMgZH.js";import"./chunk-W7625H47--NTnJEnK.js";import"./chunk-ROKB75YP-BjHfL7E6.js";import"./chunk-P3UUX2T6-CDvcsuG9.js";import"./chunk-DZWH2RV6-B7cI8-p8.js";import"./sub-Ca2BFeSf.js";import"./format-BsAuNKh5.js";import"./chunk-MSDRGCRR-CygM1UmD.js";import"./chunk-UC26CCHZ-jn8Rx18I.js";import"./chunk-3C6WQ7NH-BXPy1B9w.js";import"./chunk-BW322BVH-Bu7mNcFf.js";import"./chunk-XLDQPLK4-BnBv0RH3.js";import"./chunk-ADOCJB6L-3RvuFqSE.js";import"./chunk-IQBAUTU5-BcF73Rgu.js";import"./chunk-CONJV275-BHlnUjoP.js";import"./checkbox-Bm9_gGRM.js";import"./react-country-flag.esm-D5FaBppi.js";import"./use-prompt-D56I0Z60.js";import"./prompt-YaiseBxh.js";import"./index.esm-BQ-YgayW.js";import"./index-DRUHz9yq.js";import"./command-bar-D5PjKtE8.js";import"./index-BqPH3RWs.js";import"./index-haGLTuDn.js";import"./date-picker-CzxuXAvc.js";import"./popover-9ZHd-JXE.js";import"./triangle-left-mini-CmFFwE40.js";import"./focus-modal-B7NOABos.js";var N=({taxRegion:r})=>{const{t:a}=d(),e=r.tax_rates.filter(o=>o.is_default===!0),i=e.length===0;return t.jsxs(u,{className:"divide-y p-0",children:[t.jsx(T,{taxRegion:r,type:"header",asLink:!1,badge:i&&t.jsx(O,{content:a("taxRegions.fields.noDefaultRate.tooltip"),children:t.jsx(w,{color:"orange",size:"2xsmall",className:"cursor-default",children:a("taxRegions.fields.noDefaultRate.label")})})}),e.map(o=>t.jsx(f,{taxRate:o,isSublevelTaxRate:!0},o.id))]})},l=10,m="o",I=({taxRegion:r})=>{const{t:a}=d(),{searchParams:e,raw:i}=k({pageSize:l,prefix:m}),{tax_rates:o,count:n,isPending:s,isError:p,error:x}=q({...e,tax_region_id:r.id,is_default:!1},{placeholderData:B}),{table:g}=v({count:n,data:o,pageSize:l,prefix:m});if(p)throw x;return t.jsx(u,{className:"p-0",children:t.jsx(R,{isPending:s,table:g,count:n,action:{label:a("actions.create"),to:"overrides/create"},queryObject:i,prefix:m,children:t.jsx(E,{level:"h2",children:a("taxRegions.taxOverrides.header")})})})},Je=()=>{const{province_id:r}=j(),a=b(),{tax_region:e,isLoading:i,isError:o,error:n}=c(r,void 0,{initialData:a}),{getWidgets:s}=_();if(i||!e)return t.jsx(P,{sections:2,showJSON:!0});if(o)throw n;return t.jsxs(L,{data:e,showJSON:!0,widgets:{after:s("tax.details.after"),before:s("tax.details.before")},children:[t.jsx(N,{taxRegion:e}),t.jsx(I,{taxRegion:e})]})},Ke=r=>{var s,p;const{province_id:a}=r.params||{},{tax_region:e}=c(a,void 0,{initialData:r.data,enabled:!!a});if(!e)return null;const i=(s=e.country_code)==null?void 0:s.toUpperCase(),o=(p=e.province_code)==null?void 0:p.toUpperCase(),n=h(i,o);return t.jsx("span",{children:n?y(o):o})},Q=r=>({queryKey:D.detail(r),queryFn:async()=>C.admin.taxRegion.retrieve(r)}),Ue=async({params:r})=>{const a=r.province_id,e=Q(a);return S.ensureQueryData(e)};export{Ke as Breadcrumb,Je as Component,Je as TaxRegionDetail,Ue as loader};
