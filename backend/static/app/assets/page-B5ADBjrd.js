import{bJ as d,j as e,L as r}from"./index-S35l5lon.js";import{s as p}from"./client-DUf8-hSd.js";import{E as h}from"./envelope-solid-BKxvxx9H.js";import{P as j,a as f}from"./plus-CZtd4i4F.js";import{C as n,H as c,T as i}from"./heading-Cdx6okg4.js";import{B as m}from"./button-9jJy7PHD.js";import{S as t}from"./skeleton-D0DBGavF.js";import{B as u}from"./badge-DtJwLgim.js";import"./spinner-2pZ_p3OB.js";const v=async()=>await p.client.fetch("/admin/email-templates",{method:"GET"}),z=()=>{const{data:a,isLoading:o,error:x}=d({queryKey:["email-templates"],queryFn:v}),l=(a==null?void 0:a.templates)??[];return e.jsxs("div",{className:"flex flex-col gap-y-4 p-6",children:[e.jsxs(n,{className:"divide-y p-0",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-x-3",children:[e.jsx(h,{className:"text-ui-fg-subtle"}),e.jsx(c,{level:"h1",children:"Notifications"})]}),e.jsx(m,{size:"small",variant:"secondary",asChild:!0,children:e.jsxs(r,{to:"/notifications/create",children:[e.jsx(j,{}),"Create Template"]})})]}),e.jsx("div",{className:"px-6 py-4",children:e.jsx(i,{className:"text-ui-fg-subtle",children:"Manage email templates that are sent to customers based on various triggers."})})]}),e.jsxs(n,{className:"divide-y p-0",children:[e.jsx("div",{className:"px-6 py-4",children:e.jsx(c,{level:"h2",children:"Email Templates"})}),o?e.jsx("div",{className:"divide-y",children:[1,2,3].map(s=>e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(t,{className:"h-5 w-48"}),e.jsx(t,{className:"h-4 w-72"}),e.jsx(t,{className:"h-3 w-32"})]}),e.jsx(t,{className:"h-8 w-16"})]},s))}):x?e.jsx("div",{className:"px-6 py-8 text-center",children:e.jsx(i,{className:"text-ui-fg-error",children:"Failed to load email templates. Make sure the backend is running."})}):l.length===0?e.jsx("div",{className:"px-6 py-8 text-center",children:e.jsx(i,{className:"text-ui-fg-subtle",children:"No email templates found. Create your first template to get started."})}):e.jsx("div",{className:"divide-y",children:l.map(s=>e.jsxs(r,{to:`/notifications/${s.id}`,className:"flex items-center justify-between px-6 py-4 hover:bg-ui-bg-subtle-hover transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex flex-col gap-y-1",children:[e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(i,{weight:"plus",children:s.name}),e.jsx(u,{color:s.is_active?"green":"grey",size:"2xsmall",children:s.is_active?"active":"inactive"})]}),s.description&&e.jsx(i,{size:"small",className:"text-ui-fg-subtle",children:s.description}),e.jsxs(i,{size:"xsmall",className:"text-ui-fg-muted font-mono",children:["Event: ",s.event_name]})]}),e.jsx("div",{className:"flex items-center gap-x-2",children:e.jsxs(m,{size:"small",variant:"transparent",children:[e.jsx(f,{}),"Edit"]})})]},s.id))})]})]})};export{z as Component};
