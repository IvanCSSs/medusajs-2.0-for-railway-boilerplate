import{P as u,a as p,bW as d,m as f,j as a,a1 as x,O as g,ab as y,M as j,u as h,X as v,bX as b,C as S,H as w,A as D,q as l,t as c}from"./index-S35l5lon.js";import{S as C}from"./chunk-GIZFNLKK-DRFYVOmD.js";import{u as P}from"./use-prompt-D56I0Z60.js";import{P as T}from"./pencil-square-Y_YO1xMN.js";import{T as U}from"./trash-VeZKzNu3.js";import"./index-DRUHz9yq.js";import"./check-B9bFzKnZ.js";import"./prompt-YaiseBxh.js";var W=e=>{const{id:s}=e.params||{},{user:t}=d(s,void 0,{initialData:e.data,enabled:!!s});if(!t)return null;const r=[t.first_name,t.last_name].filter(Boolean).join(" ")||t.email;return a.jsx("span",{children:r})},q=e=>({queryKey:y.detail(e),queryFn:async()=>g.admin.user.retrieve(e)}),z=async({params:e})=>{const s=e.id,t=q(s);return j.ensureQueryData(t)},N=({user:e})=>{const{t:s}=h(),t=v(),n=P(),{mutateAsync:r}=b(e.id),i=[e.first_name,e.last_name].filter(Boolean).join(" "),o=async()=>{await n({title:s("general.areYouSure"),description:s("users.deleteUserWarning",{name:i??e.email}),verificationText:i??e.email,verificationInstruction:s("general.typeToConfirm"),confirmText:s("actions.delete"),cancelText:s("actions.cancel")})&&await r(void 0,{onSuccess:()=>{c.success(s("users.deleteUserSuccess",{name:e.email})),t("..")},onError:m=>{c.error(m.message)}})};return a.jsxs(S,{className:"divide-y p-0",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[a.jsx(w,{children:e.email}),a.jsx(D,{groups:[{actions:[{label:s("actions.edit"),to:"edit",icon:a.jsx(T,{})}]},{actions:[{label:s("actions.delete"),onClick:o,icon:a.jsx(U,{})}]}]})]}),a.jsxs("div",{className:"text-ui-fg-subtle grid grid-cols-2 items-center px-6 py-4",children:[a.jsx(l,{size:"small",leading:"compact",weight:"plus",children:s("fields.name")}),a.jsx(l,{size:"small",leading:"compact",children:i??"-"})]})]})},H=()=>{const e=u(),{id:s}=p(),{user:t,isPending:n,isError:r,error:i}=d(s,void 0,{initialData:e}),{getWidgets:o}=f();if(n||!t)return a.jsx(x,{sections:1,showJSON:!0,showMetadata:!0});if(r)throw i;return a.jsx(C,{data:t,showJSON:!0,showMetadata:!0,widgets:{after:o("user.details.after"),before:o("user.details.before")},children:a.jsx(N,{user:t})})};export{W as Breadcrumb,H as Component,z as loader};
