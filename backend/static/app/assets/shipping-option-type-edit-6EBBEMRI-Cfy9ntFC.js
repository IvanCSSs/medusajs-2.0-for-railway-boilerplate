import{a as g,u,cg as f,j as e,H as y,c as b,ci as T,t as h,F as s,I as x,q as S,B as j,e as F,o as v,s as m}from"./index-S35l5lon.js";import{K as E}from"./chunk-6HTZNHPT-USxWRfar.js";import{a as t,u as O}from"./chunk-AERWK3TJ-Gph8MRZF.js";import"./focus-modal-B7NOABos.js";import"./prompt-YaiseBxh.js";var C=v({label:m().min(1),code:m().min(1),description:m().optional()}),w=({shippingOptionType:r})=>{const{t:i}=u(),{handleSuccess:l}=O(),o=b({defaultValues:{label:r.label,code:r.code,description:r.description},resolver:F(C)}),{mutateAsync:a,isPending:c}=T(r.id),d=o.handleSubmit(async n=>{await a({label:n.label,code:n.code,description:n.description},{onSuccess:({shipping_option_type:p})=>{h.success(i("shippingOptionTypes.edit.successToast",{label:p.label})),l()},onError:p=>{h.error(p.message)}})});return e.jsx(t.Form,{form:o,children:e.jsxs(E,{onSubmit:d,className:"flex flex-1 flex-col overflow-hidden",children:[e.jsxs(t.Body,{className:"flex flex-1 flex-col gap-y-8 overflow-y-auto",children:[e.jsx(s.Field,{control:o.control,name:"label",render:({field:n})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{children:i("shippingOptionTypes.fields.label")}),e.jsx(s.Control,{children:e.jsx(x,{...n})}),e.jsx(s.ErrorMessage,{})]})}),e.jsx(s.Field,{control:o.control,name:"code",render:({field:n})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{children:i("shippingOptionTypes.fields.code")}),e.jsx(s.Control,{children:e.jsx(x,{...n})}),e.jsx(s.ErrorMessage,{})]})}),e.jsx(s.Field,{control:o.control,name:"description",render:({field:n})=>e.jsxs(s.Item,{children:[e.jsxs(s.Label,{children:[i("shippingOptionTypes.fields.description"),e.jsxs(S,{size:"small",leading:"compact",className:"text-ui-fg-muted ml-1 inline",children:["(",i("fields.optional"),")"]})]}),e.jsx(s.Control,{children:e.jsx(x,{...n})}),e.jsx(s.ErrorMessage,{})]})})]}),e.jsx(t.Footer,{children:e.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[e.jsx(t.Close,{asChild:!0,children:e.jsx(j,{size:"small",variant:"secondary",children:i("actions.cancel")})}),e.jsx(j,{size:"small",type:"submit",isLoading:c,children:i("actions.save")})]})})]})})},B=()=>{const{id:r}=g(),{t:i}=u(),{shipping_option_type:l,isPending:o,isError:a,error:c}=f(r),d=!o&&!!l;if(a)throw c;return e.jsxs(t,{children:[e.jsx(t.Header,{children:e.jsx(y,{children:i("shippingOptionTypes.edit.header")})}),d&&e.jsx(w,{shippingOptionType:l})]})};export{B as Component};
