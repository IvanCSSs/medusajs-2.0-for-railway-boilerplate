import{C as h,c as _,o as T}from"./chunk-4QZ5WTIF-CFLSJgvI.js";import{u as x,a as E}from"./chunk-IJRZ53H3-ZsR9LBlK.js";import{m as j,j as i,u as f,bl as A,dI as b,C,H as O,cp as S,bY as v,r as D,k}from"./index-S35l5lon.js";import{S as L}from"./chunk-GIZFNLKK-DRFYVOmD.js";import{u as w,_ as F}from"./chunk-ULVVVKLF-DQ5i1kAh.js";import"./chunk-GU5PJRPM-CRBxyP7n.js";import{N as P}from"./NoctoSlot-Cmfmjduv.js";import"./chunk-6CPMXY5N-BnsD9cSz.js";import"./chunk-3I6G3NRU-Yu_RzIa9.js";import"./chunk-INE2QCSC-D6C4GUuG.js";import"./chunk-X6BAAGCL-D2m0rpEk.js";import"./chunk-DK4WIVY6-CYCbBMOO.js";import"./chunk-P3UUX2T6-CDvcsuG9.js";import"./chunk-CM4CTG5D-ghcQfLC7.js";import"./chunk-C76H5USB-C4gmMgZH.js";import"./use-data-table-C4h0AgWj.js";import"./command-bar-D5PjKtE8.js";import"./index-BqPH3RWs.js";import"./adjustments-D-7QP2vC.js";import"./checkbox-Bm9_gGRM.js";import"./select-CmrtK7XQ.js";import"./check-B9bFzKnZ.js";import"./triangles-mini-CX2619vl.js";import"./date-picker-CzxuXAvc.js";import"./popover-9ZHd-JXE.js";import"./triangle-left-mini-CmFFwE40.js";import"./table-u7knMi01.js";import"./arrow-up-mini-BZwwZ9E8.js";import"./index-D8hIMFbh.js";import"./sortable.esm-G2J7QBKc.js";import"./use-prompt-D56I0Z60.js";import"./prompt-YaiseBxh.js";import"./pencil-square-Y_YO1xMN.js";import"./trash-VeZKzNu3.js";import"./chunk-XLDQPLK4-BnBv0RH3.js";import"./chunk-ADOCJB6L-3RvuFqSE.js";import"./chunk-IQBAUTU5-BcF73Rgu.js";import"./chunk-ROKB75YP-BjHfL7E6.js";import"./chunk-DZWH2RV6-B7cI8-p8.js";import"./sub-Ca2BFeSf.js";import"./format-BsAuNKh5.js";import"./react-country-flag.esm-D5FaBppi.js";import"./create-data-table-column-helper-CslhiBa7.js";import"./status-badge-CXGqPLdn.js";import"./chunk-7DXVXBSA-CQVKcaLu.js";import"./index-DRUHz9yq.js";import"./chunk-HQKGZADC-CFjwmGLF.js";import"./chunk-EMIHDNB7-1UnYIHIF.js";import"./plus-mini-B5zW_eay.js";import"./index-haGLTuDn.js";var g=()=>{const{t:e}=f(),{regions:r}=S({limit:1e3,fields:"id,name"}),{sales_channels:t}=v({limit:1e3,fields:"id,name"});return D.useMemo(()=>{const o=[{key:"created_at",label:e("fields.createdAt"),type:"date"},{key:"updated_at",label:e("fields.updatedAt"),type:"date"}];return r!=null&&r.length&&o.push({key:"region_id",label:e("fields.region"),type:"select",multiple:!0,searchable:!0,options:r.map(a=>({label:a.name,value:a.id}))}),t!=null&&t.length&&o.push({key:"sales_channel_id",label:e("fields.salesChannel"),type:"select",multiple:!0,searchable:!0,options:t.map(a=>({label:a.name,value:a.id}))}),o},[r,t,e])};function R(){return _({entity:"orders",queryPrefix:"o",pageSize:20,columnAdapter:T,useData:(e,r)=>{const{orders:t,count:o,isError:a,error:n,isLoading:m}=b({fields:e,...r},{placeholderData:(u,s)=>{var l,p;const d=(p=(l=s==null?void 0:s[s.length-1])==null?void 0:l.query)==null?void 0:p.fields;if(!(d&&d!==e))return u}});return{data:t,count:o,isLoading:m,isError:a,error:n}},getRowHref:e=>`/orders/${e.id}`,emptyState:{empty:{heading:"No orders found"}}})}function I(){const e=g();return{...R(),filters:e}}var N=()=>{const{t:e}=f(),r=I();return i.jsx(h,{adapter:r,heading:e("orders.domain"),layout:"fill"})},z=["id","status","created_at","email","display_id","custom_display_id","payment_status","fulfillment_status","total","currency_code"],$=["*customer","*sales_channel"],q=`${z.join(",")},${$.join(",")}`,c=20,H=()=>{const{t:e}=f();if(A("view_configurations"))return i.jsx(N,{});const{searchParams:t,raw:o}=x({pageSize:c}),{orders:a,count:n,isError:m,error:u,isLoading:s}=b({fields:q,...t},{placeholderData:k}),d=g(),l=E({}),{table:p}=w({data:a??[],columns:l,enablePagination:!0,count:n,pageSize:c});if(m)throw u;return i.jsxs(C,{className:"divide-y p-0",children:[i.jsx("div",{className:"flex items-center justify-between px-6 py-4",children:i.jsx(O,{children:e("orders.domain")})}),i.jsx(F,{columns:l,table:p,pagination:!0,navigateTo:y=>`/orders/${y.original.id}`,filters:d,count:n,search:!0,isLoading:s,pageSize:c,orderBy:[{key:"display_id",label:e("orders.fields.displayId")},{key:"created_at",label:e("fields.createdAt")},{key:"updated_at",label:e("fields.updatedAt")}],queryObject:o,noRecords:{message:e("orders.list.noRecordsMessage")}})]})},ze=()=>{const{getWidgets:e}=j();return i.jsx(L,{widgets:{after:e("order.list.after"),before:e("order.list.before")},hasOutlet:!1,children:i.jsx(P,{pluginId:"@orders",name:"main",fallback:i.jsx(H,{})})})};export{ze as Component};
