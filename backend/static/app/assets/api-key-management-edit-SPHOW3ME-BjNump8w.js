import{a as p,u as x,cO as j,j as e,H as y,c as f,cS as g,t as m,F as a,I as K,B as u,e as v,o as F,s as b}from"./index-S35l5lon.js";import{V as E}from"./chunk-F6ZOHZVB-awm5-hxq.js";import{K as S}from"./chunk-6HTZNHPT-USxWRfar.js";import{a as s,u as A}from"./chunk-AERWK3TJ-Gph8MRZF.js";import"./focus-modal-B7NOABos.js";import"./prompt-YaiseBxh.js";var C=F({title:b().min(1)}),M=({apiKey:r})=>{const{t}=x(),{handleSuccess:n}=A(),i=f({defaultValues:{title:r.title},resolver:v(C)}),{mutateAsync:o,isPending:l}=g(r.id),h=i.handleSubmit(async c=>{await o(c,{onSuccess:({api_key:d})=>{m.success(t("apiKeyManagement.edit.successToast",{title:d.title})),n()},onError:d=>{m.error(d.message)}})});return e.jsx(s.Form,{form:i,children:e.jsxs(S,{onSubmit:h,className:"flex flex-1 flex-col",children:[e.jsx(s.Body,{children:e.jsx("div",{className:"flex flex-col gap-y-4",children:e.jsx(a.Field,{control:i.control,name:"title",render:({field:c})=>e.jsxs(a.Item,{children:[e.jsx(a.Label,{children:t("fields.title")}),e.jsx(a.Control,{children:e.jsx(K,{...c})}),e.jsx(a.ErrorMessage,{})]})})})}),e.jsx(s.Footer,{children:e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(s.Close,{asChild:!0,children:e.jsx(u,{size:"small",variant:"secondary",children:t("actions.cancel")})}),e.jsx(u,{size:"small",type:"submit",isLoading:l,children:t("actions.save")})]})})]})})},N=()=>{const{id:r}=p(),{t}=x(),{api_key:n,isLoading:i,isError:o,error:l}=j(r);if(o)throw l;return e.jsxs(s,{children:[e.jsxs(s.Header,{children:[e.jsx(s.Title,{asChild:!0,children:e.jsx(y,{children:t("apiKeyManagement.edit.header")})}),e.jsx(s.Description,{asChild:!0,children:e.jsx(E,{children:t("apiKeyManagement.edit.description")})})]}),!i&&!!n&&e.jsx(M,{apiKey:n})]})};export{N as Component};
