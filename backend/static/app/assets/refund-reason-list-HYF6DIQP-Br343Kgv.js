import{b as g}from"./chunk-DTVYFGS4-BXV6Ee5V.js";import{m as R,j as r,O as y,da as b,M as c,u as f,db as h,C as x,X as C,dc as v,r as l,t as d,k as w}from"./index-S35l5lon.js";import{d as S}from"./chunk-MFALVTRQ-BD7iJ2f3.js";import{D as T}from"./chunk-CM4CTG5D-ghcQfLC7.js";import{S as j}from"./chunk-GIZFNLKK-DRFYVOmD.js";import{u as D}from"./use-prompt-D56I0Z60.js";import{P as E}from"./pencil-square-Y_YO1xMN.js";import{T as L}from"./trash-VeZKzNu3.js";import{c as P}from"./create-data-table-column-helper-CslhiBa7.js";import"./chunk-OMSGDEXN-DN7Q9tNr.js";import"./chunk-ROKB75YP-BjHfL7E6.js";import"./chunk-P3UUX2T6-CDvcsuG9.js";import"./chunk-DZWH2RV6-B7cI8-p8.js";import"./sub-Ca2BFeSf.js";import"./format-BsAuNKh5.js";import"./chunk-MSDRGCRR-CygM1UmD.js";import"./index-D8hIMFbh.js";import"./chunk-C76H5USB-C4gmMgZH.js";import"./use-data-table-C4h0AgWj.js";import"./command-bar-D5PjKtE8.js";import"./index-BqPH3RWs.js";import"./adjustments-D-7QP2vC.js";import"./checkbox-Bm9_gGRM.js";import"./select-CmrtK7XQ.js";import"./check-B9bFzKnZ.js";import"./triangles-mini-CX2619vl.js";import"./date-picker-CzxuXAvc.js";import"./popover-9ZHd-JXE.js";import"./triangle-left-mini-CmFFwE40.js";import"./table-u7knMi01.js";import"./arrow-up-mini-BZwwZ9E8.js";import"./sortable.esm-G2J7QBKc.js";import"./index-DRUHz9yq.js";import"./prompt-YaiseBxh.js";var k=()=>({queryKey:b.list(),queryFn:async()=>y.admin.refundReason.list()}),ge=async()=>{const e=k();return c.getQueryData(e.queryKey)??await c.fetchQuery(e)},p=20,q=()=>{const{t:e}=f(),{searchParams:s}=S({pageSize:p}),{refund_reasons:o,count:t,isLoading:n,isError:i,error:a}=h(s,{placeholderData:w}),u=Q();if(i)throw a;return r.jsx(x,{className:"divide-y px-0 py-0",children:r.jsx(T,{data:o,columns:u,rowCount:t,pageSize:p,getRowId:m=>m.id,heading:e("refundReasons.domain"),subHeading:e("refundReasons.subtitle"),emptyState:{empty:{heading:e("general.noRecordsMessage")},filtered:{heading:e("general.noRecordsMessage"),description:e("general.noRecordsMessageFiltered")}},actions:[{label:e("actions.create"),to:"create"}],isLoading:n,enableSearch:!0})})},M=P(),Q=()=>{const{t:e}=f(),s=D(),o=C(),t=g(),{mutateAsync:n}=v(),i=l.useCallback(async a=>{await s({title:e("general.areYouSure"),description:e("refundReasons.delete.confirmation",{label:a.label}),confirmText:e("actions.delete"),cancelText:e("actions.cancel")})&&await n(a.id,{onSuccess:()=>{d.success(e("refundReasons.delete.successToast"))},onError:m=>{d.error(m.message)}})},[e,s,n]);return l.useMemo(()=>[...t,M.action({actions:a=>[[{icon:r.jsx(E,{}),label:e("actions.edit"),onClick:()=>o(`/settings/refund-reasons/${a.row.original.id}/edit`)}],[{icon:r.jsx(L,{}),label:e("actions.delete"),onClick:()=>i(a.row.original)}]]})],[t,i,o,e])},Re=()=>{const{getWidgets:e}=R();return r.jsx(j,{showMetadata:!1,showJSON:!1,hasOutlet:!0,widgets:{after:e("refund_reason.list.after"),before:e("refund_reason.list.before")},children:r.jsx(q,{})})};export{Re as Component,ge as loader};
