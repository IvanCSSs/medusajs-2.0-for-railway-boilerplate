import{a as j,u as h,cA as p,j as s,H as g,c as f,cB as v,t as m,F as t,I as T,B as x,e as y,o as b,s as F}from"./index-S35l5lon.js";import{K as P}from"./chunk-6HTZNHPT-USxWRfar.js";import{a as e,u as E}from"./chunk-AERWK3TJ-Gph8MRZF.js";import"./focus-modal-B7NOABos.js";import"./prompt-YaiseBxh.js";var S=b({value:F().min(1)}),w=({productTag:o})=>{const{t:r}=h(),{handleSuccess:n}=E(),a=f({defaultValues:{value:o.value},resolver:y(S)}),{mutateAsync:c,isPending:i}=v(o.id),l=a.handleSubmit(async d=>{await c(d,{onSuccess:({product_tag:u})=>{m.success(r("productTags.edit.successToast",{value:u.value})),n()},onError:u=>{m.error(u.message)}})});return s.jsx(e.Form,{form:a,children:s.jsxs(P,{className:"flex size-full flex-col overflow-hidden",onSubmit:l,children:[s.jsx(e.Body,{className:"flex flex-1 flex-col overflow-auto",children:s.jsx(t.Field,{control:a.control,name:"value",render:({field:d})=>s.jsxs(t.Item,{children:[s.jsx(t.Label,{children:r("productTags.fields.value")}),s.jsx(t.Control,{children:s.jsx(T,{...d})}),s.jsx(t.ErrorMessage,{})]})})}),s.jsx(e.Footer,{children:s.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[s.jsx(e.Close,{asChild:!0,children:s.jsx(x,{variant:"secondary",size:"small",type:"button",children:r("actions.cancel")})}),s.jsx(x,{size:"small",type:"submit",isLoading:i,children:r("actions.save")})]})})]})})},I=()=>{const{id:o}=j(),{t:r}=h(),{product_tag:n,isPending:a,isError:c,error:i}=p(o),l=!a&&!!n;if(c)throw i;return s.jsxs(e,{children:[s.jsxs(e.Header,{children:[s.jsx(e.Title,{asChild:!0,children:s.jsx(g,{children:r("productTags.edit.header")})}),s.jsx(e.Description,{className:"sr-only",children:r("productTags.edit.subtitle")})]}),l&&s.jsx(w,{productTag:n})]})};export{I as Component};
