import{T as _,u as N,a as w}from"./chunk-PXYBVXI7-DGryLF3q.js";import"./chunk-IFFVQD5Q-CYuRkI39.js";import"./chunk-FMPUXSXC-DpF6ipvW.js";import{u as E,a as C,T as D}from"./chunk-BURD35AQ-DXbH8Y-m.js";import{T as O}from"./chunk-EGD5UUDW-D7jeo1Iu.js";import{g as T}from"./chunk-EHAU7SOS-CihDnY6t.js";import"./chunk-KEQOAJC2-7WPNwWw4.js";import{a as z,r as R,P as k,cZ as B,m as I,j as e,a1 as A,u as p,c_ as L,q as h,B as f,C as d,T as q,G,cU as Z,H as g,k as S}from"./index-S35l5lon.js";import{c$ as or,d0 as nr}from"./index-S35l5lon.js";import{f as F}from"./chunk-IR5DHEKS-aVJcUHa1.js";import{a as H}from"./chunk-MFALVTRQ-BD7iJ2f3.js";import{u as J}from"./chunk-HI6URQ7H-C9eEBFjx.js";import{S as Q}from"./chunk-GIZFNLKK-DRFYVOmD.js";import"./chunk-ULVVVKLF-DQ5i1kAh.js";import"./chunk-GU5PJRPM-CRBxyP7n.js";import"./chunk-6HTZNHPT-USxWRfar.js";import"./chunk-AERWK3TJ-Gph8MRZF.js";import"./chunk-4FM6S5CX-BpW1LsFY.js";import"./chunk-ASIIOFVB-BHdj0c6d.js";import"./chunk-HQKGZADC-CFjwmGLF.js";import"./table-u7knMi01.js";import"./chunk-EMIHDNB7-1UnYIHIF.js";import"./plus-mini-B5zW_eay.js";import"./index-D8hIMFbh.js";import"./pencil-square-Y_YO1xMN.js";import"./trash-VeZKzNu3.js";import"./arrow-down-right-mini-BkrFKUze.js";import"./status-badge-CXGqPLdn.js";import"./chunk-PRLQLEEQ-CKYDE1LK.js";import"./select-CmrtK7XQ.js";import"./check-B9bFzKnZ.js";import"./triangles-mini-CX2619vl.js";import"./chunk-AABJNP6V-CY9S8G87.js";import"./chunk-C76H5USB-C4gmMgZH.js";import"./chunk-W7625H47--NTnJEnK.js";import"./chunk-ROKB75YP-BjHfL7E6.js";import"./chunk-P3UUX2T6-CDvcsuG9.js";import"./chunk-DZWH2RV6-B7cI8-p8.js";import"./sub-Ca2BFeSf.js";import"./format-BsAuNKh5.js";import"./chunk-MSDRGCRR-CygM1UmD.js";import"./chunk-UC26CCHZ-jn8Rx18I.js";import"./chunk-3C6WQ7NH-BXPy1B9w.js";import"./chunk-BW322BVH-Bu7mNcFf.js";import"./chunk-XLDQPLK4-BnBv0RH3.js";import"./chunk-ADOCJB6L-3RvuFqSE.js";import"./chunk-IQBAUTU5-BcF73Rgu.js";import"./chunk-CONJV275-BHlnUjoP.js";import"./checkbox-Bm9_gGRM.js";import"./react-country-flag.esm-D5FaBppi.js";import"./use-prompt-D56I0Z60.js";import"./prompt-YaiseBxh.js";import"./index.esm-BQ-YgayW.js";import"./index-DRUHz9yq.js";import"./command-bar-D5PjKtE8.js";import"./index-BqPH3RWs.js";import"./index-haGLTuDn.js";import"./date-picker-CzxuXAvc.js";import"./popover-9ZHd-JXE.js";import"./triangle-left-mini-CmFFwE40.js";import"./focus-modal-B7NOABos.js";var X=({taxRegion:t})=>{const{t:a}=p(),s=t.tax_rates.filter(r=>r.is_default===!0),i=s.length===0;return e.jsxs(d,{className:"divide-y p-0",children:[e.jsx(O,{taxRegion:t,type:"header",asLink:!1,badge:i&&e.jsx(q,{content:a("taxRegions.fields.noDefaultRate.tooltip"),children:e.jsx(G,{color:"orange",size:"2xsmall",className:"cursor-default",children:a("taxRegions.fields.noDefaultRate.label")})})}),s.map(r=>e.jsx(_,{taxRate:r},r.id))]})},v=10,j="p",$=({taxRegion:t,showSublevelRegions:a})=>{const{t:s}=p(),{searchParams:i,raw:r}=E({pageSize:v,prefix:j}),{tax_regions:o,count:n,isPending:c,isError:l,error:x}=Z({...i,parent_id:t.id},{placeholderData:S}),{table:y}=C({count:n,data:o,pageSize:v,prefix:j}),m=T(t.country_code);if(!m&&!a&&!t.children.length)return null;const P=(m==null?void 0:m.type)||"sublevel";if(l)throw x;return e.jsx(d,{className:"divide-y p-0",children:e.jsx(D,{variant:"province",action:{to:"provinces/create",label:s("actions.create")},table:y,isPending:c,queryObject:r,count:n,children:e.jsx(g,{level:"h2",children:s(`taxRegions.${P}.header`)})})})},b=10,u="o",U=({taxRegion:t})=>{const{t:a}=p(),{searchParams:s,raw:i}=H({pageSize:b,prefix:u}),{tax_rates:r,count:o,isPending:n,isError:c,error:l}=J({...s,tax_region_id:t.id,is_default:!1},{placeholderData:S}),{table:x}=N({count:o,data:r,pageSize:b,prefix:u});if(c)throw l;return e.jsx(d,{className:"p-0",children:e.jsx(w,{isPending:n,table:x,count:o,action:{label:a("actions.create"),to:"overrides/create"},queryObject:i,prefix:u,children:e.jsx(g,{level:"h2",children:a("taxRegions.taxOverrides.header")})})})},W=({taxRegion:t,showSublevelRegions:a,setShowSublevelRegions:s})=>{const{t:i}=p(),[r,o]=R.useState(!1);return T(t.country_code)||a||r||t.children.length?null:e.jsx(L,{dismissible:!0,variant:"info",className:"bg-ui-bg-base",children:e.jsxs("div",{className:"flex flex-col gap-y-3",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx(h,{size:"small",leading:"compact",weight:"plus",asChild:!0,children:e.jsx("h2",{children:i("taxRegions.fields.sublevels.alert.header")})}),e.jsx(h,{size:"small",leading:"compact",className:"text-pretty",children:i("taxRegions.fields.sublevels.alert.description")})]}),e.jsxs("div",{className:"flex items-center gap-x-3",children:[e.jsx(f,{variant:"secondary",size:"small",onClick:()=>s(!0),children:i("taxRegions.fields.sublevels.alert.action")}),e.jsx(f,{variant:"transparent",size:"small",onClick:()=>o(!0),children:i("actions.hide")})]})]})})};function K({taxRegion:t}){const{t:a}=p();return e.jsxs(d,{className:"divide-y p-0",children:[e.jsx(g,{level:"h2",className:"px-6 py-4",children:a("taxRegions.provider.header")}),e.jsx("div",{className:"px-6 py-4",children:t.provider_id&&e.jsx("span",{className:"text-ui-fg-subtle",children:F(t.provider_id)})})]})}var ar=()=>{const{id:t}=z(),[a,s]=R.useState(!1),i=k(),{tax_region:r,isLoading:o,isError:n,error:c}=B(t,void 0,{initialData:i}),{getWidgets:l}=I();if(o||!r)return e.jsx(A,{sections:4,showJSON:!0});if(n)throw c;return e.jsxs(Q,{data:r,showJSON:!0,widgets:{after:l("tax.details.after"),before:l("tax.details.before")},children:[e.jsx(W,{taxRegion:r,showSublevelRegions:a,setShowSublevelRegions:s}),e.jsx(X,{taxRegion:r}),e.jsx($,{taxRegion:r,showSublevelRegions:a}),e.jsx(U,{taxRegion:r}),e.jsx(K,{taxRegion:r})]})};export{or as Breadcrumb,ar as Component,ar as TaxRegionDetail,nr as loader};
