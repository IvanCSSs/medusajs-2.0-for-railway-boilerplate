import{r as e,v as L,T as de,ar as O,at as A,w as fe,b6 as Et,I as ge,av as Ne,am as ke,a$ as ue,bd as Ee,a_ as Ct,q as Ce}from"./index-S35l5lon.js";import{C as q}from"./command-bar-D5PjKtE8.js";import{A as wt}from"./adjustments-D-7QP2vC.js";import{C as oe}from"./checkbox-Bm9_gGRM.js";import{S as Q}from"./select-CmrtK7XQ.js";import{D as we}from"./date-picker-CzxuXAvc.js";import{P as ae}from"./popover-9ZHd-JXE.js";import{D as yt,T as z}from"./table-u7knMi01.js";import{A as St,a as Dt}from"./arrow-up-mini-BZwwZ9E8.js";import{f as le,u as Nt,b as kt}from"./index-D8hIMFbh.js";import{e as Te,C as Fe,u as Tt,a as ye,D as Ft,f as _t,S as Lt,k as Pt,c as Mt,s as At,K as $t,P as Ot}from"./sortable.esm-G2J7QBKc.js";var Rt=Object.defineProperty,se=Object.getOwnPropertySymbols,_e=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable,Se=(n,t,a)=>t in n?Rt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[t]=a,It=(n,t)=>{for(var a in t||(t={}))_e.call(t,a)&&Se(n,a,t[a]);if(se)for(var a of se(t))Le.call(t,a)&&Se(n,a,t[a]);return n},Vt=(n,t)=>{var a={};for(var l in n)_e.call(n,l)&&t.indexOf(l)<0&&(a[l]=n[l]);if(n!=null&&se)for(var l of se(n))t.indexOf(l)<0&&Le.call(n,l)&&(a[l]=n[l]);return a};const Pe=e.forwardRef((n,t)=>{var a=n,{color:l="currentColor"}=a,s=Vt(a,["color"]);return e.createElement("svg",It({xmlns:"http://www.w3.org/2000/svg",width:15,height:15,fill:"none",ref:t},s),e.createElement("path",{stroke:l,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m8.833 12.611-2.666 1.333V7.5L1.944 1.944h11.112L8.833 7.5z"}))});Pe.displayName="Funnel";function B({className:n,...t}){return e.createElement("div",{className:L("bg-ui-bg-component animate-pulse rounded-md",n),...t})}const Me=e.createContext(null),V=()=>{const n=e.useContext(Me);if(!n)throw new Error("useDataTableContext must be used within a DataTableContextProvider");return n},Ae=n=>{const{instance:t}=V(),a=t.getCommands(),l=t.getRowSelection(),s=Object.keys(l||[]).length,c=a&&a.length>0&&s>0;function o(g){return typeof n.selectedLabel=="function"?n.selectedLabel(g):n.selectedLabel}return!a||a.length===0?null:e.createElement(q,{open:c},e.createElement(q.Bar,null,n.selectedLabel&&e.createElement(e.Fragment,null,e.createElement(q.Value,null,o(s)),e.createElement(q.Seperator,null)),a.map((g,b)=>e.createElement(e.Fragment,{key:b},e.createElement(q.Command,{key:g.label,action:()=>g.action(l),label:g.label,shortcut:g.shortcut}),b<a.length-1&&e.createElement(q.Seperator,null)))))};Ae.displayName="DataTable.CommandBar";const $e=({className:n,tooltip:t})=>{const{instance:a,enableColumnVisibility:l}=V();if(!l)return null;const s=a.getAllColumns().filter(u=>u.getCanHide()),c=u=>{u.toggleVisibility()},o=u=>{a.setColumnVisibility(Object.fromEntries(s.map(N=>[N.id,u])))},g=s.every(u=>u.getIsVisible()),b=s.some(u=>u.getIsVisible()),m=t?de:O.Fragment,r=t?{content:t}:{};return O.createElement(A,null,O.createElement(m,{...r},O.createElement(A.Trigger,{asChild:!0},O.createElement(fe,{size:"small",className:n},O.createElement(wt,null)))),O.createElement(A.Content,{align:"end",className:"min-w-[200px] max-h-[400px] overflow-hidden"},O.createElement(A.Label,null,"Toggle columns"),O.createElement(A.Separator,null),O.createElement(A.Item,{onSelect:u=>{u.preventDefault(),o(!g)}},O.createElement("div",{className:"flex items-center gap-x-2"},O.createElement(oe,{checked:g?!0:b&&!g?"indeterminate":!1}),O.createElement("span",null,"Toggle all"))),O.createElement(A.Separator,null),O.createElement("div",{className:"max-h-[250px] overflow-y-auto"},s.map(u=>{var N;return O.createElement(A.Item,{key:u.id,onSelect:T=>{T.preventDefault(),c(u)}},O.createElement("div",{className:"flex items-center gap-x-2"},O.createElement(oe,{checked:u.getIsVisible()}),O.createElement("span",{className:"truncate"},((N=u.columnDef.meta)===null||N===void 0?void 0:N.name)||u.id)))}))))};function re(n){if(typeof n!="object"||n===null)return!1;const t=["$gte","$lte","$gt","$lt"],a=t.some(s=>s in n),l=Object.entries(n).every(([s,c])=>t.includes(s)&&(typeof c=="string"||c===void 0));return a&&l}const Ht=n=>n.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),zt="Custom",Oe="Starting",Re="Ending",Ie=({id:n,filter:t,isNew:a=!1,onUpdate:l,onRemove:s})=>{const{instance:c}=V(),[o,g]=e.useState(a),[b,m]=e.useState(!1),r=c.getFilterMeta(n);if(!r)return null;const{type:u,label:N,...T}=r,k=r.options,d=e.useMemo(()=>{if(t==null||typeof t=="string"&&t===""||Array.isArray(t)&&t.length===0)return!1;if(typeof t=="number")return!0;if(re(t))return!!(t.$gte||t.$lte||t.$gt||t.$lt);if(typeof t=="object"&&t!==null){const f=Object.keys(t);return f.length>0&&t[f[0]]!==null&&t[f[0]]!==void 0}return!0},[t]),i=e.useCallback(f=>{g(f),!f&&o&&m(!0),!f&&!d&&(a&&!b||!a)&&(s?s():c.removeFilter(n))},[c,n,o,b,a,d,s]),v=e.useCallback(()=>{s?s():c.removeFilter(n)},[c,n,s]),{displayValue:p,isCustomRange:h}=e.useMemo(()=>{var f,E,w,D,F;let S=null,P=!1;if(typeof t=="string"&&(!k||k.length===0?S=t:S=(E=(f=k==null?void 0:k.find(y=>y.value===t))===null||f===void 0?void 0:f.label)!==null&&E!==void 0?E:null),typeof t=="number"&&(S=String(t)),Array.isArray(t)&&(S=(w=t.map(y=>{var M;return(M=k==null?void 0:k.find($=>$.value===y))===null||M===void 0?void 0:M.label}).join(", "))!==null&&w!==void 0?w:null),re(t)&&(S=(F=(D=k==null?void 0:k.find(y=>re(y.value)?(t.$gte===y.value.$gte||!t.$gte&&!y.value.$gte)&&(t.$lte===y.value.$lte||!t.$lte&&!y.value.$lte)&&(t.$gt===y.value.$gt||!t.$gt&&!y.value.$gt)&&(t.$lt===y.value.$lt||!t.$lt&&!y.value.$lt):!1))===null||D===void 0?void 0:D.label)!==null&&F!==void 0?F:null,!S&&Kt(r))){P=!0;const y=r.formatDateValue?r.formatDateValue:Ht;t.$gte&&!t.$lte&&(S=`${r.rangeOptionStartLabel||Oe} ${y(new Date(t.$gte))}`),t.$lte&&!t.$gte&&(S=`${r.rangeOptionEndLabel||Re} ${y(new Date(t.$lte))}`),t.$gte&&t.$lte&&(S=`${y(new Date(t.$gte))} - ${y(new Date(t.$lte))}`)}if(typeof t=="object"&&t!==null&&!Array.isArray(t)&&!re(t)){const y={$eq:"=",$gt:">",$gte:"≥",$lt:"<",$lte:"≤"},M=Object.keys(t)[0],$=y[M]||M,H=t[M];typeof H=="number"&&(S=`${$} ${H}`)}return{displayValue:S,isCustomRange:P}},[t,k,r]);return e.createElement(ae,{open:o,onOpenChange:i,modal:!0},e.createElement("div",{className:L("bg-ui-bg-field flex flex-shrink-0 items-stretch overflow-hidden rounded-md","txt-compact-small-plus shadow-borders-base")},!d&&a&&e.createElement(ae.Anchor,null),e.createElement("div",{className:L("flex items-center px-2 py-1 text-ui-fg-muted",{"border-r":d})},N||n),d&&e.createElement(e.Fragment,null,(u==="select"||u==="multiselect"||u==="radio")&&e.createElement("div",{className:"flex items-center border-r px-2 py-1 text-ui-fg-muted"},"is"),e.createElement(ae.Trigger,{asChild:!0},e.createElement("button",{className:L("flex flex-1 items-center px-2 py-1 outline-none","hover:bg-ui-bg-base-hover active:bg-ui-bg-base-pressed transition-fg",{"text-ui-fg-subtle":p,"text-ui-fg-muted":!p,"min-w-[80px] justify-center":!p,"border-r":!0})},p||" ")),e.createElement("button",{type:"button",className:"flex size-7 items-center justify-center text-ui-fg-muted outline-none hover:bg-ui-bg-base-hover active:bg-ui-bg-base-pressed transition-fg",onClick:v},e.createElement(Et,null)))),e.createElement(ae.Content,{align:"start",sideOffset:8,collisionPadding:16,hideWhenDetached:!0,className:"bg-ui-bg-component p-0 outline-none",onOpenAutoFocus:f=>{if(a){const E=f.currentTarget;if(E){const w=E.querySelector('input:not([type="hidden"]), [role="list"][tabindex="0"]');w==null||w.focus()}}},onCloseAutoFocus:f=>{f.preventDefault()},onInteractOutside:f=>{f.target.closest('[role="menuitem"]')&&f.preventDefault()}},(()=>{switch(u){case"select":return e.createElement(Bt,{id:n,filter:t,options:k,isNew:a,onUpdate:l});case"radio":return e.createElement(Wt,{id:n,filter:t,options:k,onUpdate:l});case"date":const f=T;return e.createElement(jt,{id:n,filter:t,options:k,isCustomRange:h,format:f.format,rangeOptionLabel:f.rangeOptionLabel,disableRangeOption:f.disableRangeOption,rangeOptionStartLabel:f.rangeOptionStartLabel,rangeOptionEndLabel:f.rangeOptionEndLabel,onUpdate:l});case"multiselect":const E=T;return e.createElement(qt,{id:n,filter:t,options:k,searchable:E.searchable,onUpdate:l});case"string":const w=T;return e.createElement(Gt,{id:n,filter:t,placeholder:w.placeholder,onUpdate:l});case"number":const D=T;return e.createElement(Yt,{id:n,filter:t,placeholder:D.placeholder,includeOperators:D.includeOperators,onUpdate:l});case"custom":const F=T;return e.createElement(Xt,{id:n,filter:t,onRemove:v,render:F.render,onUpdate:l});default:return null}})()))};Ie.displayName="DataTable.Filter";const jt=({id:n,filter:t,options:a,format:l="date",rangeOptionLabel:s=zt,rangeOptionStartLabel:c=Oe,rangeOptionEndLabel:o=Re,disableRangeOption:g=!1,isCustomRange:b,onUpdate:m})=>{const r=t,{instance:u}=V(),[N,T]=e.useState(b);e.useEffect(()=>{T(b)},[b]);const k=e.useMemo(()=>{if(!(!r||N))return JSON.stringify(r)},[r,N]),d=e.useCallback(S=>{T(!1);const P=JSON.parse(S);m?m(P):u.updateFilter({id:n,value:P})},[u,n,m]),i=e.useCallback(()=>{T(!0)},[]),v=e.useCallback((S,P)=>{const y={...r};y[S]=P?P.toISOString():void 0,m?m(y):u.updateFilter({id:n,value:y})},[u,n,r,m]),{focusedIndex:p,setFocusedIndex:h}=Ve(a,S=>{S===a.length&&!g?i():d(JSON.stringify(a[S].value))},g?0:1),f=l==="date-time"?"minute":"day",E=r!=null&&r.$lte?f==="minute"?new Date(r.$lte):new Date(new Date(r.$lte).setHours(23,59,59,999)):void 0,w=r!=null&&r.$gte?f==="minute"?new Date(r.$gte):new Date(new Date(r.$gte).setHours(0,0,0,0)):void 0,D=N?a.length:0,F=e.useCallback(()=>{p===-1&&h(D)},[p,D]);return e.createElement(e.Fragment,null,e.createElement("div",{className:"flex flex-col p-1 outline-none",tabIndex:0,role:"list",onFocus:F,autoFocus:!0},a.map((S,P)=>{const y=JSON.stringify(S.value),M=k===y;return e.createElement(me,{key:P,index:P,option:S,isSelected:M,isFocused:p===P,onClick:()=>d(y),onMouseEvent:h,icon:ue})}),!g&&e.createElement(me,{index:a.length,option:{label:s,value:"__custom"},icon:ue,isSelected:N,isFocused:p===a.length,onClick:i,onMouseEvent:h})),!g&&N&&e.createElement(e.Fragment,null,e.createElement("div",{className:"flex flex-col py-[3px]"},e.createElement("div",{className:"bg-ui-border-menu-top h-px w-full"}),e.createElement("div",{className:"bg-ui-border-menu-bot h-px w-full"})),e.createElement("div",{className:"flex flex-col gap-2 px-2 pb-3 pt-1"},e.createElement("div",{className:"flex flex-col gap-1"},e.createElement(Ee,{id:"custom-start-date-label",size:"xsmall",weight:"plus"},c),e.createElement(we,{"aria-labelledby":"custom-start-date-label",granularity:f,maxValue:E,value:r!=null&&r.$gte?new Date(r.$gte):null,onChange:S=>v("$gte",S)})),e.createElement("div",{className:"flex flex-col gap-1"},e.createElement(Ee,{id:"custom-end-date-label",size:"xsmall",weight:"plus"},o),e.createElement(we,{"aria-labelledby":"custom-end-date-label",granularity:f,minValue:w,value:r!=null&&r.$lte?new Date(r.$lte):null,onChange:S=>v("$lte",S)})))))},Bt=({id:n,filter:t=[],options:a,isNew:l=!1,onUpdate:s})=>{const{instance:c}=V(),[o,g]=e.useState(""),b=e.useMemo(()=>{if(!o)return a;const r=o.toLowerCase();return a.filter(u=>u.label.toLowerCase().includes(r))},[a,o]),m=e.useCallback(r=>{if(t!=null&&t.includes(r)){const u=t==null?void 0:t.filter(T=>T!==r),N=u.length>0?u:void 0;s?s(N):c.updateFilter({id:n,value:N})}else{const u=[...t??[],r];s?s(u):c.updateFilter({id:n,value:u})}},[c,n,t,s]);return e.createElement("div",{className:"w-[250px]"},e.createElement("div",{className:"flex items-center gap-x-2 border-b px-3 py-1.5"},e.createElement(Ne,{className:"h-4 w-4 text-ui-fg-muted"}),e.createElement("input",{value:o,onChange:r=>g(r.target.value),placeholder:"Search...",className:"h-8 flex-1 bg-transparent text-sm outline-none placeholder:text-ui-fg-muted",autoFocus:!0}),o&&e.createElement("button",{onClick:()=>g(""),className:"text-ui-fg-muted hover:text-ui-fg-subtle"},e.createElement(ke,{className:"h-4 w-4"}))),e.createElement("div",{className:"max-h-[300px] overflow-auto p-1"},b.length===0&&e.createElement("div",{className:"py-6 text-center text-sm text-ui-fg-muted"},"No results found"),b.map(r=>{const u=t==null?void 0:t.includes(r.value);return e.createElement("button",{key:String(r.value),onClick:()=>m(r.value),className:L("flex w-full cursor-pointer items-center gap-x-2 rounded-md px-2 py-1.5 text-sm text-left","hover:bg-ui-bg-base-hover")},e.createElement("div",{className:"flex size-[15px] items-center justify-center"},u&&e.createElement(Ct,null)),e.createElement("span",null,r.label))})))},Wt=({id:n,filter:t,options:a,onUpdate:l})=>{const{instance:s}=V(),c=e.useCallback(m=>{l?l(m):s.updateFilter({id:n,value:m})},[s,n,l]),{focusedIndex:o,setFocusedIndex:g}=Ve(a,m=>c(a[m].value)),b=e.useCallback(()=>{o===-1&&g(0)},[o]);return e.createElement("div",{className:"flex flex-col p-1 outline-none",role:"list",tabIndex:0,onFocus:b,autoFocus:!0},a.map((m,r)=>{const u=t===m.value;return e.createElement(me,{key:r,index:r,option:m,isSelected:u,isFocused:o===r,onClick:()=>c(m.value),onMouseEvent:g,icon:ue})}))};function Kt(n){return n?n.type==="date":!1}const me=e.memo(({index:n,option:t,isSelected:a,isFocused:l,onClick:s,onMouseEvent:c,icon:o})=>e.createElement("button",{type:"button",role:"listitem",className:L("bg-ui-bg-component txt-compact-small transition-fg flex items-center gap-2 rounded px-2 py-1 outline-none",{"bg-ui-bg-component-hover":l}),onClick:s,onMouseEnter:()=>c(n),onMouseLeave:()=>c(-1),tabIndex:-1},e.createElement("div",{className:"flex size-[15px] items-center justify-center"},a&&e.createElement(o,null)),e.createElement("span",null,t.label)));function Ve(n,t,a=0){const[l,s]=e.useState(-1),c=e.useCallback(o=>{const g=n.length+a;if(document.activeElement.contentEditable!=="true")switch(o.key){case"ArrowDown":o.preventDefault(),s(b=>b<g-1?b+1:b);break;case"ArrowUp":o.preventDefault(),s(b=>b>0?b-1:b);break;case" ":case"Enter":o.preventDefault(),l>=0&&t(l);break}},[n.length,a,l,t]);return e.useEffect(()=>(window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}),[c]),{focusedIndex:l,setFocusedIndex:s}}const qt=({id:n,filter:t=[],options:a,searchable:l=!0,onUpdate:s})=>{const{instance:c}=V(),[o,g]=e.useState(""),b=e.useMemo(()=>{if(!l||!o)return a;const r=o.toLowerCase();return a.filter(u=>u.label.toLowerCase().includes(r))},[a,o,l]),m=e.useCallback(r=>{if(t!=null&&t.includes(r)){const u=t==null?void 0:t.filter(T=>T!==r),N=u.length>0?u:void 0;s?s(N):c.updateFilter({id:n,value:N})}else{const u=[...t??[],r];s?s(u):c.updateFilter({id:n,value:u})}},[c,n,t,s]);return l?e.createElement("div",{className:"w-[250px]"},e.createElement("div",{className:"flex items-center gap-x-2 border-b px-3 py-1.5"},e.createElement(Ne,{className:"h-4 w-4 text-ui-fg-muted"}),e.createElement("input",{value:o,onChange:r=>g(r.target.value),placeholder:"Search...",className:"h-8 flex-1 bg-transparent text-sm outline-none placeholder:text-ui-fg-muted",autoFocus:!0}),o&&e.createElement("button",{onClick:()=>g(""),className:"text-ui-fg-muted hover:text-ui-fg-subtle"},e.createElement(ke,{className:"h-4 w-4"}))),e.createElement("div",{className:"max-h-[300px] overflow-auto p-1"},b.length===0&&e.createElement("div",{className:"py-6 text-center text-sm text-ui-fg-muted"},"No results found"),b.map(r=>{const u=t==null?void 0:t.includes(r.value);return e.createElement("button",{key:String(r.value),onClick:()=>m(r.value),className:L("flex w-full cursor-pointer items-center gap-x-2 rounded-md px-2 py-1.5 text-sm text-left","hover:bg-ui-bg-base-hover")},e.createElement(oe,{checked:u,className:"pointer-events-none"}),e.createElement("span",null,r.label))}))):e.createElement("div",{className:"w-[250px]"},e.createElement("div",{className:"max-h-[300px] overflow-auto p-1"},a.map(r=>{const u=t==null?void 0:t.includes(r.value);return e.createElement("button",{key:String(r.value),onClick:()=>m(r.value),className:L("flex w-full items-center gap-x-2 rounded-md px-2 py-1.5 text-sm","hover:bg-ui-bg-base-hover cursor-pointer text-left")},e.createElement(oe,{checked:u,className:"pointer-events-none"}),e.createElement("span",null,r.label))})))},Gt=({id:n,filter:t,placeholder:a="Enter value...",onUpdate:l})=>{const{instance:s}=V(),[c,o]=e.useState(t||""),g=e.useRef(null),b=e.useCallback(r=>{o(r),g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{const u=r.trim()||void 0;l?l(u):s.updateFilter({id:n,value:u})},500)},[s,n,l]);e.useEffect(()=>()=>{g.current&&clearTimeout(g.current)},[]);const m=e.useCallback(r=>{if(r.key==="Enter"){g.current&&clearTimeout(g.current);const u=c.trim()||void 0;l?l(u):s.updateFilter({id:n,value:u})}},[s,n,c,l]);return e.createElement("div",{className:"p-3 w-[250px]"},e.createElement(ge,{placeholder:a,value:c,onChange:r=>b(r.target.value),onKeyDown:m,autoFocus:!0}))},Yt=({id:n,filter:t,placeholder:a="Enter number...",includeOperators:l=!0,onUpdate:s})=>{const{instance:c}=V(),[o,g]=e.useState("eq"),[b,m]=e.useState(""),r=e.useRef(null);e.useEffect(()=>{if(t){if(typeof t=="number")g("eq"),m(String(t));else if(typeof t=="object"){const d=Object.keys(t)[0];g(d.replace("$","")),m(String(t[d]))}}},[t]);const u=e.useCallback(d=>{m(d),r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{const i=parseFloat(d);if(isNaN(i))d===""&&(s?s(void 0):c.updateFilter({id:n,value:void 0}));else{const v=l&&o!=="eq"?{[`$${o}`]:i}:i;s?s(v):c.updateFilter({id:n,value:v})}},500)},[c,n,o,l,s]),N=e.useCallback(d=>{g(d);const i=parseFloat(b);if(!isNaN(i)){const v=l&&d!=="eq"?{[`$${d}`]:i}:i;s?s(v):c.updateFilter({id:n,value:v})}},[c,n,b,l,s]);e.useEffect(()=>()=>{r.current&&clearTimeout(r.current)},[]);const T=e.useCallback(d=>{if(d.key==="Enter"){r.current&&clearTimeout(r.current);const i=parseFloat(b);if(!isNaN(i)){const v=l&&o!=="eq"?{[`$${o}`]:i}:i;s?s(v):c.updateFilter({id:n,value:v})}}},[c,n,b,o,l,s]),k=[{value:"eq",label:"Equals"},{value:"gt",label:"Greater than"},{value:"gte",label:"Greater than or equal"},{value:"lt",label:"Less than"},{value:"lte",label:"Less than or equal"}];return e.createElement("div",{className:"p-3 space-y-3 w-[250px]"},l&&e.createElement(Q,{value:o,onValueChange:N},e.createElement(Q.Trigger,null,e.createElement(Q.Value,null)),e.createElement(Q.Content,null,k.map(d=>e.createElement(Q.Item,{key:d.value,value:d.value},d.label)))),e.createElement(ge,{type:"number",placeholder:a,value:b,onChange:d=>u(d.target.value),onKeyDown:T,autoFocus:!l}))},Xt=({id:n,filter:t,onRemove:a,render:l,onUpdate:s})=>{const{instance:c}=V(),o=e.useCallback(g=>{s?s(g):c.updateFilter({id:n,value:g})},[c,n,s]);return e.createElement(e.Fragment,null,l({value:t,onChange:o,onRemove:a}))},be=({tooltip:n,onAddFilter:t})=>{const{instance:a}=V(),l=Object.keys(a.getFiltering()),s=a.getFilters().filter(g=>!l.includes(g.id));if(!l.length&&!s.length)throw new Error("DataTable.FilterMenu was rendered but there are no filters to apply. Make sure to pass filters to 'useDataTable'");const c=n?de:e.Fragment,o=n?{content:n,hidden:s.length===0}:{};return a.showSkeleton?e.createElement(Jt,null):e.createElement(A,null,e.createElement(c,{...o},e.createElement(A.Trigger,{asChild:!0,disabled:s.length===0},e.createElement(fe,{size:"small"},e.createElement(Pe,null)))),e.createElement(A.Content,{side:"bottom",align:"start"},s.map(g=>{const b=()=>{switch(g.type){case"select":case"multiselect":return[];case"string":return"";case"number":return null;case"date":return null;case"radio":return null;case"custom":return null;default:return null}};return e.createElement(A.Item,{key:g.id,onClick:m=>{m.stopPropagation(),t?t(g.id,b()):a.addFilter({id:g.id,value:b()})}},g.label)})))};be.displayName="DataTable.FilterMenu";const Jt=()=>e.createElement(B,{className:"size-7"}),pe=n=>{const{instance:t}=V(),a=t.getAllColumns().filter(m=>m.getCanSort()),l=t.getSorting(),s=e.useMemo(()=>a.find(m=>m.id===(l==null?void 0:l.id)),[a,l]),c=e.useCallback(m=>{t.setSorting(r=>{var u;return{id:m,desc:(u=r==null?void 0:r.desc)!==null&&u!==void 0?u:!1}})},[t]),o=e.useCallback(m=>{t.setSorting(r=>{var u;return{id:(u=r==null?void 0:r.id)!==null&&u!==void 0?u:"",desc:m==="true"}})},[t]);if(!t.enableSorting)throw new Error("DataTable.SortingMenu was rendered but sorting is not enabled. Make sure to pass sorting to 'useDataTable'");if(!a.length)throw new Error("DataTable.SortingMenu was rendered but there are no sortable columns. Make sure to set `enableSorting` to true on at least one column.");if(t.showSkeleton)return e.createElement(Qt,null);const g=n.tooltip?de:e.Fragment,b=n.tooltip?{content:n.tooltip}:{};return e.createElement(A,null,e.createElement(g,{...b},e.createElement(A.Trigger,{asChild:!0},e.createElement(fe,{size:"small"},e.createElement(yt,null)))),e.createElement(A.Content,{side:"bottom"},e.createElement(A.RadioGroup,{value:l==null?void 0:l.id,onValueChange:c},a.map(m=>e.createElement(A.RadioItem,{onSelect:r=>r.preventDefault(),value:m.id,key:m.id},Zt(m)))),l&&e.createElement(e.Fragment,null,e.createElement(A.Separator,null),e.createElement(A.RadioGroup,{value:l!=null&&l.desc?"true":"false",onValueChange:o},e.createElement(A.RadioItem,{onSelect:m=>m.preventDefault(),value:"false",className:"flex items-center gap-2"},e.createElement(St,{className:"text-ui-fg-subtle"}),De("asc",s)),e.createElement(A.RadioItem,{onSelect:m=>m.preventDefault(),value:"true",className:"flex items-center gap-2"},e.createElement(Dt,{className:"text-ui-fg-subtle"}),De("desc",s))))))};pe.displayName="DataTable.SortingMenu";function Zt(n){var t,a,l;const s=n.columnDef.meta;let c;return typeof n.columnDef.header=="string"&&(c=n.columnDef.header),(l=(a=(t=s==null?void 0:s.___sortMetaData)===null||t===void 0?void 0:t.sortLabel)!==null&&a!==void 0?a:c)!==null&&l!==void 0?l:n.id}function De(n,t){var a,l,s,c;if(!t)return null;const o=t.columnDef.meta;switch(n){case"asc":return(l=(a=o==null?void 0:o.___sortMetaData)===null||a===void 0?void 0:a.sortAscLabel)!==null&&l!==void 0?l:"A-Z";case"desc":return(c=(s=o==null?void 0:o.___sortMetaData)===null||s===void 0?void 0:s.sortDescLabel)!==null&&c!==void 0?c:"Z-A"}}const Qt=()=>e.createElement(B,{className:"size-7"}),ve=({clearAllFiltersLabel:n="Clear all",alwaysShow:t=!1,sortingTooltip:a,columnsTooltip:l,children:s})=>{const{instance:c,enableColumnVisibility:o}=V(),[g,b]=e.useState([]),m=c.getFiltering(),r=c.getFilters();e.useEffect(()=>{b(p=>{const h=Object.keys(m),f=p.map(w=>w.id),E=p.filter(w=>h.includes(w.id)||w.isNew);return h.forEach(w=>{f.includes(w)||E.push({id:w,value:m[w],isNew:!1})}),E.length!==p.length||E.some((w,D)=>{var F;return w.id!==((F=p[D])===null||F===void 0?void 0:F.id)})?E:p})},[m]);const u=e.useCallback((p,h)=>{b(f=>[...f,{id:p,value:h,isNew:!0}])},[]),N=e.useCallback((p,h)=>{b(f=>f.map(E=>E.id===p?{...E,value:h,isNew:!1}:E)),h!=null&&h!==""&&!(Array.isArray(h)&&h.length===0)&&c.updateFilter({id:p,value:h})},[c]),T=e.useCallback(p=>{b(h=>h.filter(f=>f.id!==p)),m[p]!==void 0&&c.removeFilter(p)},[c,m]);e.useCallback(()=>{b([]),c.clearFilters()},[c]);const k=g.length,d=r.length>0,i=c.getAllColumns().filter(p=>p.getCanSort()),v=c.enableSorting&&i.length>0;return k===0&&!d&&!v&&!o&&!t&&!s?null:c.showSkeleton?e.createElement(Ut,{filterCount:k}):e.createElement("div",{className:"bg-ui-bg-subtle flex w-full flex-nowrap items-center justify-between gap-2 overflow-x-auto border-t px-6 py-2"},e.createElement("div",{className:"flex flex-nowrap items-center gap-2 md:flex-wrap"},g.map(p=>e.createElement(Ie,{key:p.id,id:p.id,filter:p.value,isNew:p.isNew,onUpdate:h=>N(p.id,h),onRemove:()=>T(p.id)})),d&&e.createElement(be,{onAddFilter:u})),e.createElement("div",{className:"flex flex-shrink-0 items-center gap-2"},v&&e.createElement(pe,{tooltip:a}),o&&e.createElement($e,{tooltip:l}),s))};ve.displayName="DataTable.FilterBar";const Ut=({filterCount:n})=>e.createElement("div",{className:"bg-ui-bg-subtle flex w-full flex-nowrap items-center gap-2 overflow-x-auto border-t px-6 py-2 md:flex-wrap"},Array.from({length:n}).map((t,a)=>e.createElement(B,{key:a,className:"h-7 w-[180px]"})),n>0?e.createElement(B,{className:"h-7 w-[66px]"}):null),He=n=>{const{instance:t}=V();if(!t.enablePagination)throw new Error("DataTable.Pagination was rendered but pagination is not enabled. Make sure to pass pagination to 'useDataTable'");return t.showSkeleton?e.createElement(en,null):e.createElement(z.Pagination,{translations:n.translations,className:"flex-shrink-0",canNextPage:t.getCanNextPage(),canPreviousPage:t.getCanPreviousPage(),pageCount:t.getPageCount(),count:t.rowCount,nextPage:t.nextPage,previousPage:t.previousPage,pageIndex:t.pageIndex,pageSize:t.pageSize})};He.displayName="DataTable.Pagination";const en=()=>e.createElement("div",null,e.createElement("div",{className:"flex items-center justify-between p-4"},e.createElement(B,{className:"h-7 w-[138px]"}),e.createElement("div",{className:"flex items-center gap-x-2"},e.createElement(B,{className:"h-7 w-24"}),e.createElement(B,{className:"h-7 w-11"}),e.createElement(B,{className:"h-7 w-11"})))),ze=n=>{const{className:t,...a}=n,{instance:l}=V();if(!l.enableSearch)throw new Error("DataTable.Search was rendered but search is not enabled. Make sure to pass search to 'useDataTable'");return l.showSkeleton?e.createElement(tn,null):e.createElement(ge,{size:"small",type:"search",value:l.getSearch(),onChange:s=>l.onSearchChange(s.target.value),className:L({"pr-[calc(15px+2px+8px)]":l.isLoading},t),...a})};ze.displayName="DataTable.Search";const tn=()=>e.createElement(B,{className:"h-7 w-[128px]"});var K;(function(n){n.EMPTY="EMPTY",n.FILTERED_EMPTY="FILTERED_EMPTY",n.POPULATED="POPULATED"})(K||(K={}));const U=n=>{const t=n.direction==="asc",a=n.direction==="desc",l=t||a;return e.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:L("opacity-0 transition-opacity group-hover:opacity-100",{"opacity-100":l})},e.createElement("path",{d:"M5.82651 5.75C5.66344 5.74994 5.50339 5.71269 5.36308 5.64216C5.22277 5.57162 5.10736 5.47039 5.02891 5.34904C4.95045 5.22769 4.91184 5.09067 4.9171 4.95232C4.92236 4.81397 4.97131 4.67936 5.05882 4.56255L7.64833 1.10788C7.73055 0.998207 7.84403 0.907911 7.97827 0.845354C8.11252 0.782797 8.26318 0.75 8.41632 0.75C8.56946 0.75 8.72013 0.782797 8.85437 0.845354C8.98862 0.907911 9.1021 0.998207 9.18432 1.10788L11.7744 4.56255C11.862 4.67939 11.9109 4.81405 11.9162 4.95245C11.9214 5.09085 11.8827 5.2279 11.8042 5.34926C11.7257 5.47063 11.6102 5.57185 11.4698 5.64235C11.3294 5.71285 11.1693 5.75003 11.0061 5.75H5.82651Z",className:L("fill-ui-fg-muted",{"fill-ui-fg-subtle":t})}),e.createElement("path",{d:"M11.0067 9.25C11.1698 9.25006 11.3299 9.28731 11.4702 9.35784C11.6105 9.42838 11.7259 9.52961 11.8043 9.65096C11.8828 9.77231 11.9214 9.90933 11.9162 10.0477C11.9109 10.186 11.8619 10.3206 11.7744 10.4374L9.18492 13.8921C9.10271 14.0018 8.98922 14.0921 8.85498 14.1546C8.72074 14.2172 8.57007 14.25 8.41693 14.25C8.26379 14.25 8.11312 14.2172 7.97888 14.1546C7.84464 14.0921 7.73115 14.0018 7.64894 13.8921L5.05882 10.4374C4.97128 10.3206 4.92233 10.1859 4.9171 10.0476C4.91186 9.90915 4.95053 9.7721 5.02905 9.65074C5.10758 9.52937 5.22308 9.42815 5.36347 9.35765C5.50387 9.28715 5.664 9.24997 5.82712 9.25H11.0067Z",className:L("fill-ui-fg-muted",{"fill-ui-fg-subtle":a})}))};U.displayName="DataTable.SortingIcon";const je=e.forwardRef(({id:n,children:t,className:a,style:l,isFirstColumn:s,...c},o)=>{const{attributes:g,listeners:b,setNodeRef:m,transform:r,transition:u,isDragging:N}=Te({id:n}),T=r?{x:r.x,y:0,scaleX:1,scaleY:1}:null,k={...l,transform:T?Fe.Transform.toString(T):void 0,transition:u,opacity:N?.8:1,zIndex:N?50:s?1:void 0},d=i=>{m(i),o&&(typeof o=="function"?o(i):o.current=i)};return e.createElement(z.HeaderCell,{ref:d,style:k,className:L(a,"group/header-cell bg-ui-bg-base"),...g,...b,...c},t)});je.displayName="DataTableSortableHeaderCell";const Be=e.forwardRef(({id:n,children:t,className:a,style:l,isFirstColumn:s,...c},o)=>{const{setNodeRef:g,transform:b,transition:m}=Te({id:n,disabled:!0}),r=b?{x:b.x,y:0,scaleX:b.scaleX,scaleY:b.scaleY}:null,u={...l,transform:r?Fe.Transform.toString(r):void 0,transition:m},N=T=>{g(T),o&&(typeof o=="function"?o(T):o.current=T)};return e.createElement(z.HeaderCell,{ref:N,style:u,className:a,...c},t)});Be.displayName="DataTableNonSortableHeaderCell";const We=n=>{const t=e.useRef(null),a=e.useRef(!1),[l,s]=e.useState(!1),c=e.useRef(null),{instance:o}=V(),g=o.pageIndex,b=o.getAllColumns(),m=b.find(d=>d.id==="select"),r=b.find(d=>d.id==="action"),u=e.useMemo(()=>o.columnOrder&&o.columnOrder.length>0?o.columnOrder:b.map(d=>d.id),[b,o.columnOrder]),N=Tt(ye(Ot,{activationConstraint:{distance:8}}),ye($t,{coordinateGetter:At})),T=d=>{const{active:i,over:v}=d;if(i.id!==(v==null?void 0:v.id)&&(v!=null&&v.id)){const p=i.id,h=v.id;if(p==="select"||p==="action"||h==="select"||h==="action")return;const f=o.columnOrder&&o.columnOrder.length>0?o.columnOrder:b.map(D=>D.id),E=f.indexOf(p),w=f.indexOf(h);if(E!==-1&&w!==-1){const D=Mt(f,E,w);o.setColumnOrderFromArray(D)}}};e.useEffect(()=>{const d=v=>{const p=rn();if(v.key.toLowerCase()==="x"&&t&&!a.current&&!p){a.current=!0;const h=o.getRowModel().rows.find(f=>f.id===t.current);h&&h.getCanSelect()&&h.toggleSelected()}},i=v=>{v.key.toLowerCase()==="x"&&(a.current=!1)};return document.addEventListener("keydown",d),document.addEventListener("keyup",i),()=>{document.removeEventListener("keydown",d),document.removeEventListener("keyup",i)}},[t,o]);const k=d=>{d.currentTarget.scrollLeft>0?s(!0):s(!1)};return e.useEffect(()=>{var d;(d=c.current)===null||d===void 0||d.scroll({top:0,left:0})},[g]),o.showSkeleton?e.createElement(ln,{pageSize:o.pageSize}):e.createElement("div",{className:"flex w-full flex-1 flex-col overflow-hidden"},o.emptyState===K.POPULATED&&(o.enableColumnOrder?e.createElement(Ft,{sensors:N,collisionDetection:_t,onDragEnd:T},e.createElement("div",{ref:c,onScroll:k,className:"min-h-0 w-full flex-1 overflow-auto overscroll-none border-y"},e.createElement(z,{className:"relative isolate w-full"},e.createElement(z.Header,{className:"shadow-ui-border-base sticky inset-x-0 top-0 z-[1] w-full border-b-0 border-t-0 shadow-[0_1px_1px_0]",style:{transform:"translate3d(0,0,0)"}},o.getHeaderGroups().map(d=>e.createElement(z.Row,{key:d.id,className:L("border-b-0",{"[&_th:last-of-type]:w-[1%] [&_th:last-of-type]:whitespace-nowrap":r,"[&_th:first-of-type]:w-[1%] [&_th:first-of-type]:whitespace-nowrap":m})},e.createElement(Lt,{items:u,strategy:Pt},d.headers.map((i,v)=>{var p,h;const f=i.column.getCanSort(),E=i.column.getIsSorted(),w=i.column.getToggleSortingHandler(),D=i.id==="action",F=i.id==="select",S=D||F,P=!S,y=f?"button":"div",M=m?v===1:v===0,$=((h=(p=i.column.columnDef.meta)===null||p===void 0?void 0:p.___alignMetaData)===null||h===void 0?void 0:h.headerAlign)||"left",H=$==="right",j=$==="center",G=P?je:Be;return e.createElement(G,{key:i.id,id:i.id,isFirstColumn:M,className:L("whitespace-nowrap",{"w-[calc(20px+24px+24px)] min-w-[calc(20px+24px+24px)] max-w-[calc(20px+24px+24px)]":F,"w-[calc(28px+24px+4px)] min-w-[calc(28px+24px+4px)] max-w-[calc(28px+24px+4px)]":D,"after:absolute after:inset-y-0 after:right-0 after:h-full after:w-px after:bg-transparent after:content-['']":M,"after:bg-ui-border-base":l&&M,"bg-ui-bg-subtle sticky":M||F,"left-0":F||M&&!m,"left-[calc(20px+24px+24px)]":M&&m}),style:S?void 0:{width:i.column.columnDef.size,maxWidth:i.column.columnDef.maxSize,minWidth:i.column.columnDef.minSize}},e.createElement(y,{type:f?"button":void 0,onClick:f?w:void 0,onMouseDown:f?R=>R.stopPropagation():void 0,className:L("group flex cursor-default items-center gap-2",{"cursor-pointer":f,"w-full":H||j,"w-fit":!H&&!j,"justify-end":H,"justify-center":j})},f&&H&&e.createElement(U,{direction:E}),le(i.column.columnDef.header,i.getContext()),f&&!H&&e.createElement(U,{direction:E})))}))))),e.createElement(z.Body,{className:"border-b-0 border-t-0"},o.getRowModel().rows.map(d=>e.createElement(z.Row,{key:d.id,onMouseEnter:()=>t.current=d.id,onMouseLeave:()=>t.current=null,onClick:i=>{var v;return(v=o.onRowClick)===null||v===void 0?void 0:v.call(o,i,d)},className:L("group/row last-of-type:border-b-0",{"cursor-pointer":!!o.onRowClick})},d.getVisibleCells().map((i,v)=>{const p=i.column.id==="select",h=i.column.id==="action",f=p||h,E=m?v===1:v===0;return e.createElement(z.Cell,{key:i.id,className:L("items-stretch truncate whitespace-nowrap",{"w-[calc(20px+24px+24px)] min-w-[calc(20px+24px+24px)] max-w-[calc(20px+24px+24px)]":p,"w-[calc(28px+24px+4px)] min-w-[calc(28px+24px+4px)] max-w-[calc(28px+24px+4px)]":h,"bg-ui-bg-base group-hover/row:bg-ui-bg-base-hover transition-fg sticky h-full":E||p,"after:absolute after:inset-y-0 after:right-0 after:h-full after:w-px after:bg-transparent after:content-['']":E,"after:bg-ui-border-base":l&&E,"left-0":p||E&&!m,"left-[calc(20px+24px+24px)]":E&&m}),style:f?void 0:{width:i.column.columnDef.size,maxWidth:i.column.columnDef.maxSize,minWidth:i.column.columnDef.minSize}},le(i.column.columnDef.cell,i.getContext()))}))))))):e.createElement("div",{ref:c,onScroll:k,className:"min-h-0 w-full flex-1 overflow-auto overscroll-none border-y"},e.createElement(z,{className:"relative isolate w-full"},e.createElement(z.Header,{className:"shadow-ui-border-base sticky inset-x-0 top-0 z-[1] w-full border-b-0 border-t-0 shadow-[0_1px_1px_0]",style:{transform:"translate3d(0,0,0)"}},o.getHeaderGroups().map(d=>e.createElement(z.Row,{key:d.id,className:L("border-b-0",{"[&_th:last-of-type]:w-[1%] [&_th:last-of-type]:whitespace-nowrap":r,"[&_th:first-of-type]:w-[1%] [&_th:first-of-type]:whitespace-nowrap":m})},d.headers.map((i,v)=>{var p,h;const f=i.column.getCanSort(),E=i.column.getIsSorted(),w=i.column.getToggleSortingHandler(),D=i.id==="action",F=i.id==="select",S=D||F,P=f?"button":"div",y=m?v===1:v===0,M=((h=(p=i.column.columnDef.meta)===null||p===void 0?void 0:p.___alignMetaData)===null||h===void 0?void 0:h.headerAlign)||"left",$=M==="right",H=M==="center";return e.createElement(z.HeaderCell,{key:i.id,className:L("whitespace-nowrap",{"w-[calc(20px+24px+24px)] min-w-[calc(20px+24px+24px)] max-w-[calc(20px+24px+24px)]":F,"w-[calc(28px+24px+4px)] min-w-[calc(28px+24px+4px)] max-w-[calc(28px+24px+4px)]":D,"after:absolute after:inset-y-0 after:right-0 after:h-full after:w-px after:bg-transparent after:content-['']":y,"after:bg-ui-border-base":l&&y,"bg-ui-bg-subtle sticky":y||F,"left-0":F||y&&!m,"left-[calc(20px+24px+24px)]":y&&m}),style:S?void 0:{width:i.column.columnDef.size,maxWidth:i.column.columnDef.maxSize,minWidth:i.column.columnDef.minSize}},e.createElement(P,{type:f?"button":void 0,onClick:f?w:void 0,onMouseDown:f?j=>j.stopPropagation():void 0,className:L("group flex cursor-default items-center gap-2",{"cursor-pointer":f,"w-full":$||H,"w-fit":!$&&!H,"justify-end":$,"justify-center":H})},f&&$&&e.createElement(U,{direction:E}),le(i.column.columnDef.header,i.getContext()),f&&!$&&e.createElement(U,{direction:E})))})))),e.createElement(z.Body,{className:"border-b-0 border-t-0"},o.getRowModel().rows.map(d=>e.createElement(z.Row,{key:d.id,onMouseEnter:()=>t.current=d.id,onMouseLeave:()=>t.current=null,onClick:i=>{var v;return(v=o.onRowClick)===null||v===void 0?void 0:v.call(o,i,d)},className:L("group/row last-of-type:border-b-0",{"cursor-pointer":!!o.onRowClick})},d.getVisibleCells().map((i,v)=>{const p=i.column.id==="select",h=i.column.id==="action",f=p||h,E=m?v===1:v===0;return e.createElement(z.Cell,{key:i.id,className:L("items-stretch truncate whitespace-nowrap",{"w-[calc(20px+24px+24px)] min-w-[calc(20px+24px+24px)] max-w-[calc(20px+24px+24px)]":p,"w-[calc(28px+24px+4px)] min-w-[calc(28px+24px+4px)] max-w-[calc(28px+24px+4px)]":h,"bg-ui-bg-base group-hover/row:bg-ui-bg-base-hover transition-fg sticky h-full":E||p,"after:absolute after:inset-y-0 after:right-0 after:h-full after:w-px after:bg-transparent after:content-['']":E,"after:bg-ui-border-base":l&&E,"left-0":p||E&&!m,"left-[calc(20px+24px+24px)]":E&&m}),style:f?void 0:{width:i.column.columnDef.size,maxWidth:i.column.columnDef.maxSize,minWidth:i.column.columnDef.minSize}},le(i.column.columnDef.cell,i.getContext()))}))))))),e.createElement(an,{state:o.emptyState,props:n.emptyState}))};We.displayName="DataTable.Table";const nn=({heading:n,description:t})=>e.createElement("div",{className:"flex size-full flex-col items-center justify-center gap-2"},e.createElement(Ce,{size:"base",weight:"plus"},n),e.createElement(Ce,null,t)),an=({state:n,props:t})=>{var a;if(n===K.POPULATED)return null;const l=n===K.EMPTY?t==null?void 0:t.empty:t==null?void 0:t.filtered;return e.createElement("div",{className:"flex min-h-[250px] w-full flex-1 flex-col items-center justify-center border-y px-6 py-4"},(a=l==null?void 0:l.custom)!==null&&a!==void 0?a:e.createElement(nn,{heading:l==null?void 0:l.heading,description:l==null?void 0:l.description}))},ln=({pageSize:n=10})=>e.createElement("div",{className:"flex w-full flex-1 flex-col overflow-hidden"},e.createElement("div",{className:"min-h-0 w-full flex-1 overscroll-none border-y"},e.createElement("div",{className:"flex flex-col divide-y"},e.createElement(B,{className:"h-12 w-full"}),Array.from({length:n},(t,a)=>a).map(t=>e.createElement(B,{key:t,className:"h-12 w-full rounded-none"})))));function rn(){const n=document?document.activeElement:null;return n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement||(n==null?void 0:n.getAttribute("contenteditable"))==="true"}const on=n=>{var t,a,l;const{instance:s}=V(),c=s.getFilters().length>0;return e.createElement("div",{className:"flex flex-col divide-y"},e.createElement("div",{className:L("flex items-center px-6 py-4",n.className)},n.children),e.createElement(ve,{clearAllFiltersLabel:(t=n.translations)===null||t===void 0?void 0:t.clearAll,alwaysShow:c,sortingTooltip:(a=n.translations)===null||a===void 0?void 0:a.sort,columnsTooltip:(l=n.translations)===null||l===void 0?void 0:l.columns},n.filterBarContent))},sn=({instance:n,children:t})=>e.createElement(Me.Provider,{value:{instance:n,enableColumnVisibility:n.enableColumnVisibility,enableColumnOrder:n.enableColumnOrder}},t),Ke=({instance:n,children:t,className:a})=>e.createElement(sn,{instance:n},e.createElement("div",{className:L("relative flex min-h-0 flex-1 flex-col",a)},t));Ke.displayName="DataTable";const Sn=Object.assign(Ke,{Table:We,Toolbar:on,Search:ze,SortingMenu:pe,FilterMenu:be,FilterBar:ve,ColumnVisibilityMenu:$e,Pagination:He,CommandBar:Ae}),Dn=({rowCount:n=0,filters:t,commands:a,rowSelection:l,sorting:s,filtering:c,pagination:o,search:g,onRowClick:b,autoResetPageIndex:m=!0,isLoading:r=!1,columnVisibility:u,columnOrder:N,...T})=>{var k,d,i,v,p,h;const{state:f,onSortingChange:E}=s??{},{state:w,onFilteringChange:D}=c??{},{state:F,onPaginationChange:S}=o??{},{state:P,onRowSelectionChange:y,enableRowSelection:M}=l??{},{state:$,onColumnVisibilityChange:H}=u??{},{state:j,onColumnOrderChange:G}=N??{},R=e.useCallback(()=>m?()=>F&&(S==null?void 0:S({...F,pageIndex:0})):void 0,[m,F,S]),qe=e.useCallback(()=>E?x=>{var C;(C=R())===null||C===void 0||C(),cn(E,f)(x)}:void 0,[E,f,R]),Ge=e.useCallback(()=>y?x=>{un(y,P)(x)}:void 0,[y,P,R]),Ye=e.useCallback(()=>D?x=>{var C;(C=R())===null||C===void 0||C(),mn(D,w)(x)}:void 0,[D,w,R]),Xe=e.useCallback(()=>S?dn(S,F):void 0,[S,F]),Je=e.useCallback(()=>H?x=>{const C=typeof x=="function"?x($??{}):x;H(C)}:void 0,[H,$]),Ze=e.useCallback(()=>G?x=>{const C=typeof x=="function"?x(j??[]):x;G(C)}:void 0,[G,j]),_=Nt({...T,getCoreRowModel:kt(),state:{rowSelection:P??{},sorting:f?[f]:void 0,columnFilters:Object.entries(w??{}).map(([x,C])=>({id:x,value:C})),pagination:F,columnVisibility:$??{},columnOrder:j??[]},enableRowSelection:M,rowCount:n,onColumnFiltersChange:Ye(),onRowSelectionChange:Ge(),onSortingChange:qe(),onPaginationChange:Xe(),onColumnVisibilityChange:Je(),onColumnOrderChange:Ze(),manualSorting:!0,manualPagination:!0,manualFiltering:!0}),Qe=e.useCallback(()=>{var x,C;return(C=(x=_.getState().sorting)===null||x===void 0?void 0:x[0])!==null&&C!==void 0?C:null},[_]),Ue=e.useCallback(x=>{var C,I,Z;const xt=(I=(C=_.getState().sorting)===null||C===void 0?void 0:C[0])!==null&&I!==void 0?I:null,ht=typeof x=="function"?x(xt):x;(Z=R())===null||Z===void 0||Z(),_.setSorting([ht])},[_,R]),Y=e.useCallback(()=>t??[],[t]),et=e.useCallback(x=>{const C=Y().find(I=>I.id===x);return C&&C.options||null},[Y]),tt=e.useCallback(x=>Y().find(C=>C.id===x)||null,[Y]),X=e.useCallback(()=>{var x;const C=(x=_.getState().columnFilters)!==null&&x!==void 0?x:[];return Object.fromEntries(C.map(I=>[I.id,I.value]))},[_]),ce=e.useCallback(x=>{var C;const Z={...X(),[x.id]:x.value};(C=R())===null||C===void 0||C(),D==null||D(Z)},[D,X,R]),nt=e.useCallback(x=>{var C;const I=X();delete I[x],(C=R())===null||C===void 0||C(),D==null||D(I)},[D,X,R]),at=e.useCallback(()=>{var x;(x=R())===null||x===void 0||x(),D==null||D({})},[D,R]),lt=e.useCallback(x=>{ce(x)},[ce]),{state:W,onSearchChange:ee,debounce:ie=300}=g??{},[xe,he]=e.useState(W??""),J=e.useRef();e.useEffect(()=>{he(W??"")},[W]);const rt=e.useCallback(()=>xe,[xe]),te=e.useMemo(()=>{if(ee)return x=>{var C;if(J.current&&clearTimeout(J.current),ie<=0){(C=R())===null||C===void 0||C(),ee(x);return}J.current=setTimeout(()=>{var I;(I=R())===null||I===void 0||I(),ee(x)},ie)}},[ee,ie,R]);e.useEffect(()=>()=>{J.current&&clearTimeout(J.current)},[]);const ot=e.useCallback(x=>{he(x),te==null||te(x)},[te]),st=e.useCallback(()=>a??[],[a]),ct=e.useCallback(()=>_.getState().rowSelection,[_]),ne=_.getRowModel().rows,it=e.useMemo(()=>{const x=ne.length>0,C=!!W,I=Object.keys(w??{}).length>0;return x?K.POPULATED:C||I?K.FILTERED_EMPTY:K.EMPTY},[ne,W,w]),ut=e.useMemo(()=>r===!0&&ne.length===0,[r,ne]),mt=!!o,dt=!!c,ft=!!s,gt=!!g,bt=!!u,pt=!!N,vt=e.useCallback(x=>{_.setColumnOrder(x)},[_]);return{getHeaderGroups:_.getHeaderGroups,getRowModel:_.getRowModel,getAllColumns:_.getAllColumns,setColumnVisibility:_.setColumnVisibility,setColumnOrder:_.setColumnOrder,enablePagination:mt,getCanNextPage:_.getCanNextPage,getCanPreviousPage:_.getCanPreviousPage,nextPage:_.nextPage,previousPage:_.previousPage,getPageCount:_.getPageCount,pageIndex:(i=(d=(k=_.getState())===null||k===void 0?void 0:k.pagination)===null||d===void 0?void 0:d.pageIndex)!==null&&i!==void 0?i:0,pageSize:(h=(p=(v=_.getState())===null||v===void 0?void 0:v.pagination)===null||p===void 0?void 0:p.pageSize)!==null&&h!==void 0?h:10,rowCount:n,enableSearch:gt,getSearch:rt,onSearchChange:ot,enableSorting:ft,getSorting:Qe,setSorting:Ue,enableFiltering:dt,getFilters:Y,getFilterOptions:et,getFilterMeta:tt,getFiltering:X,addFilter:ce,removeFilter:nt,clearFilters:at,updateFilter:lt,getCommands:st,getRowSelection:ct,onRowClick:b,emptyState:it,isLoading:r,showSkeleton:ut,enableColumnVisibility:bt,enableColumnOrder:pt,columnOrder:_.getState().columnOrder,setColumnOrderFromArray:vt}};function cn(n,t){return a=>{const s=(typeof a=="function"?a(t?[t]:[]):a)[0];n(s)}}function un(n,t){return a=>{const l=typeof a=="function"?a(t??{}):a;n(l)}}function mn(n,t){return a=>{const l=typeof a=="function"?a(Object.entries(t??{}).map(([c,o])=>({id:c,value:o}))):a,s=Object.fromEntries(l.map(c=>[c.id,c.value]));n(s)}}function dn(n,t){return a=>{const l=typeof a=="function"?a(t??{pageIndex:0,pageSize:10}):a;n(l)}}export{Sn as D,B as S,Dn as u};
