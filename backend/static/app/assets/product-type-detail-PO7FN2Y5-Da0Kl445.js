import{u as h}from"./chunk-5X6SKB2P-CpME60oF.js";import{u as T}from"./chunk-BW322BVH-Bu7mNcFf.js";import{a as b,P as j,cF as p,m as v,j as r,a1 as S,O as D,cG as _,M as w,u as l,C as m,H as y,A as C,U as k}from"./index-S35l5lon.js";import{u as q,a as A}from"./chunk-CONJV275-BHlnUjoP.js";import{S as E}from"./chunk-GIZFNLKK-DRFYVOmD.js";import{u as N,_ as B}from"./chunk-ULVVVKLF-DQ5i1kAh.js";import"./chunk-GU5PJRPM-CRBxyP7n.js";import{P as M}from"./pencil-square-Y_YO1xMN.js";import{T as O}from"./trash-VeZKzNu3.js";import"./use-prompt-D56I0Z60.js";import"./prompt-YaiseBxh.js";import"./chunk-XLDQPLK4-BnBv0RH3.js";import"./chunk-ADOCJB6L-3RvuFqSE.js";import"./chunk-P3UUX2T6-CDvcsuG9.js";import"./chunk-IQBAUTU5-BcF73Rgu.js";import"./index-D8hIMFbh.js";import"./chunk-C76H5USB-C4gmMgZH.js";import"./index-DRUHz9yq.js";import"./check-B9bFzKnZ.js";import"./chunk-HQKGZADC-CFjwmGLF.js";import"./table-u7knMi01.js";import"./chunk-EMIHDNB7-1UnYIHIF.js";import"./plus-mini-B5zW_eay.js";import"./command-bar-D5PjKtE8.js";import"./index-BqPH3RWs.js";import"./chunk-DZWH2RV6-B7cI8-p8.js";import"./sub-Ca2BFeSf.js";import"./format-BsAuNKh5.js";import"./index-haGLTuDn.js";import"./date-picker-CzxuXAvc.js";import"./popover-9ZHd-JXE.js";import"./triangle-left-mini-CmFFwE40.js";var ge=e=>{const{id:t}=e.params||{},{product_type:a}=p(t,void 0,{initialData:e.data,enabled:!!t});return a?r.jsx("span",{children:a.value}):null},Q=e=>({queryKey:_.detail(e),queryFn:async()=>D.admin.productType.retrieve(e)}),he=async({params:e})=>{const t=e.id,a=Q(t);return w.ensureQueryData(a)},z=({productType:e})=>{const{t}=l(),a=h(e.id,e.value);return r.jsxs(m,{className:"flex items-center justify-between",children:[r.jsx(y,{children:e.value}),r.jsx(C,{groups:[{actions:[{label:t("actions.edit"),icon:r.jsx(M,{}),to:"edit"}]},{actions:[{label:t("actions.delete"),icon:r.jsx(O,{}),onClick:a}]}]})]})},u=10,F=({productType:e})=>{const{t}=l(),{searchParams:a,raw:i}=q({pageSize:u}),{products:o,count:n,isPending:s,isError:f,error:P}=k({...a,type_id:[e.id]}),x=A(["product_types"]),c=T(),{table:g}=N({columns:c,data:o,count:(o==null?void 0:o.length)||0,getRowId:d=>d.id,pageSize:u});if(f)throw P;return r.jsxs(m,{className:"divide-y p-0",children:[r.jsx("div",{className:"px-6 py-4",children:r.jsx(y,{level:"h2",children:t("products.domain")})}),r.jsx(B,{table:g,filters:x,isLoading:s,columns:c,count:n,pageSize:u,navigateTo:({original:d})=>`/products/${d.id}`,orderBy:[{key:"title",label:t("fields.title")},{key:"created_at",label:t("fields.createdAt")},{key:"updated_at",label:t("fields.updatedAt")}],queryObject:i,search:!0,pagination:!0})]})},Te=()=>{const{id:e}=b(),t=j(),{product_type:a,isPending:i,isError:o,error:n}=p(e,void 0,{initialData:t}),{getWidgets:s}=v();if(i||!a)return r.jsx(S,{sections:2,showJSON:!0,showMetadata:!0});if(o)throw n;return r.jsxs(E,{widgets:{after:s("product_type.details.after"),before:s("product_type.details.before")},showJSON:!0,showMetadata:!0,data:a,children:[r.jsx(z,{productType:a}),r.jsx(F,{productType:a})]})};export{ge as Breadcrumb,Te as Component,he as loader};
