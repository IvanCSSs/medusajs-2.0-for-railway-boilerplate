import{r as l,eN as Br,fD as jr,j as V,f4 as ct,fF as Kr,fG as Hr,fH as zr,fI as Ur,fJ as qr,fK as Wr,fL as Yr,fM as Xr}from"./index-S35l5lon.js";var Nn={exports:{}},On={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Je=l;function Gr(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jr=typeof Object.is=="function"?Object.is:Gr,Zr=Je.useState,Qr=Je.useEffect,eo=Je.useLayoutEffect,to=Je.useDebugValue;function no(t,e){var n=e(),r=Zr({inst:{value:n,getSnapshot:e}}),o=r[0].inst,u=r[1];return eo(function(){o.value=n,o.getSnapshot=e,St(o)&&u({inst:o})},[t,n,e]),Qr(function(){return St(o)&&u({inst:o}),t(function(){St(o)&&u({inst:o})})},[t]),to(n),n}function St(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jr(t,n)}catch{return!0}}function ro(t,e){return e()}var oo=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ro:no;On.useSyncExternalStore=Je.useSyncExternalStore!==void 0?Je.useSyncExternalStore:oo;Nn.exports=On;var uo=Nn.exports;const io=Br(uo);function et(...t){}function so(t,e){if(co(t)){const n=ao(e)?e():e;return t(n)}return t}function co(t){return typeof t=="function"}function ao(t){return typeof t=="function"}function Re(t,e){return typeof Object.hasOwn=="function"?Object.hasOwn(t,e):Object.prototype.hasOwnProperty.call(t,e)}function ye(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function $n(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function lo(t,e){const n={...t};for(const r of e)Re(n,r)&&delete n[r];return n}function fo(t,e){const n={};for(const r of e)Re(t,r)&&(n[r]=t[r]);return n}function _n(t){return t}function Se(t,e){if(!t)throw typeof e!="string"?new Error("Invariant failed"):new Error(e)}function vo(t){return Object.keys(t)}function Bn(t,...e){const n=typeof t=="function"?t(...e):t;return n==null?!1:!n}function Lt(t){return t.disabled||t["aria-disabled"]===!0||t["aria-disabled"]==="true"}function je(t){const e={};for(const n in t)t[n]!==void 0&&(e[n]=t[n]);return e}function z(...t){for(const e of t)if(e!==void 0)return e}function wt(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function mo(t){return!t||!l.isValidElement(t)?!1:"ref"in t.props||"ref"in t}function bo(t){return mo(t)?{...t.props}.ref||t.ref:null}function go(t,e){const n={...t};for(const r in e){if(!Re(e,r))continue;if(r==="className"){const u="className";n[u]=t[u]?`${t[u]} ${e[u]}`:e[u];continue}if(r==="style"){const u="style";n[u]=t[u]?{...t[u],...e[u]}:e[u];continue}const o=e[r];if(typeof o=="function"&&r.startsWith("on")){const u=t[r];if(typeof u=="function"){n[r]=(...i)=>{o(...i),u(...i)};continue}}n[r]=o}return n}var Qe=So();function So(){var t;return typeof window<"u"&&!!((t=window.document)!=null&&t.createElement)}function G(t){return t?"self"in t?t.document:t.ownerDocument||document:document}function jn(t){return t?"self"in t?t.self:G(t).defaultView||window:self}function Le(t,e=!1){const{activeElement:n}=G(t);if(!(n!=null&&n.nodeName))return null;if(kt(n)&&n.contentDocument)return Le(n.contentDocument.body,e);if(e){const r=n.getAttribute("aria-activedescendant");if(r){const o=G(n).getElementById(r);if(o)return o}}return n}function ue(t,e){return t===e||t.contains(e)}function kt(t){return t.tagName==="IFRAME"}function Be(t){const e=t.tagName.toLowerCase();return e==="button"?!0:e==="input"&&t.type?ho.indexOf(t.type)!==-1:!1}var ho=["button","color","file","image","reset","submit"];function Kn(t){if(typeof t.checkVisibility=="function")return t.checkVisibility();const e=t;return e.offsetWidth>0||e.offsetHeight>0||t.getClientRects().length>0}function ke(t){try{const e=t instanceof HTMLInputElement&&t.selectionStart!==null,n=t.tagName==="TEXTAREA";return e||n||!1}catch{return!1}}function Pt(t){return t.isContentEditable||ke(t)}function xo(t){if(ke(t))return t.value;if(t.isContentEditable){const e=G(t).createRange();return e.selectNodeContents(t),e.toString()}return""}function pt(t){let e=0,n=0;if(ke(t))e=t.selectionStart||0,n=t.selectionEnd||0;else if(t.isContentEditable){const r=G(t).getSelection();if(r!=null&&r.rangeCount&&r.anchorNode&&ue(t,r.anchorNode)&&r.focusNode&&ue(t,r.focusNode)){const o=r.getRangeAt(0),u=o.cloneRange();u.selectNodeContents(t),u.setEnd(o.startContainer,o.startOffset),e=u.toString().length,u.setEnd(o.endContainer,o.endOffset),n=u.toString().length}}return{start:e,end:n}}function Hn(t,e){const n=["dialog","menu","listbox","tree","grid"],r=t==null?void 0:t.getAttribute("role");return r&&n.indexOf(r)!==-1?r:e}function Vt(t){if(!t)return null;const e=n=>n==="auto"||n==="scroll";if(t.clientHeight&&t.scrollHeight>t.clientHeight){const{overflowY:n}=getComputedStyle(t);if(e(n))return t}else if(t.clientWidth&&t.scrollWidth>t.clientWidth){const{overflowX:n}=getComputedStyle(t);if(e(n))return t}return Vt(t.parentElement)||document.scrollingElement||document.body}function ht(t,...e){/text|search|password|tel|url/i.test(t.type)&&t.setSelectionRange(...e)}function Eo(t,e){const n=t.map((o,u)=>[u,o]);let r=!1;return n.sort(([o,u],[i,c])=>{const s=e(u),a=e(c);return s===a||!s||!a?0:yo(s,a)?(o>i&&(r=!0),-1):(o<i&&(r=!0),1)}),r?n.map(([o,u])=>u):t}function yo(t,e){return!!(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING)}function zn(){return Qe&&!!navigator.maxTouchPoints}function Nt(){return Qe?/mac|iphone|ipad|ipod/i.test(navigator.platform):!1}function lt(){return Qe&&Nt()&&/apple/i.test(navigator.vendor)}function Co(){return Qe&&/firefox\//i.test(navigator.userAgent)}function Io(){return Qe&&navigator.platform.startsWith("Mac")&&!zn()}function Un(t){return!!(t.currentTarget&&!ue(t.currentTarget,t.target))}function Ee(t){return t.target===t.currentTarget}function wo(t){const e=t.currentTarget;if(!e)return!1;const n=Nt();if(n&&!t.metaKey||!n&&!t.ctrlKey)return!1;const r=e.tagName.toLowerCase();return r==="a"||r==="button"&&e.type==="submit"||r==="input"&&e.type==="submit"}function Po(t){const e=t.currentTarget;if(!e)return!1;const n=e.tagName.toLowerCase();return t.altKey?n==="a"||n==="button"&&e.type==="submit"||n==="input"&&e.type==="submit":!1}function Xe(t,e){const n=new FocusEvent("blur",e),r=t.dispatchEvent(n),o={...e,bubbles:!0};return t.dispatchEvent(new FocusEvent("focusout",o)),r}function po(t,e,n){const r=new KeyboardEvent(e,n);return t.dispatchEvent(r)}function cn(t,e){const n=new MouseEvent("click",e);return t.dispatchEvent(n)}function He(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!ue(n,r)}function Ge(t,e,n,r){const u=(c=>{const s=requestAnimationFrame(c);return()=>cancelAnimationFrame(s)})(()=>{t.removeEventListener(e,i,!0),n()}),i=()=>{u(),n()};return t.addEventListener(e,i,{once:!0,capture:!0}),u}function Ie(t,e,n,r=window){const o=[];try{r.document.addEventListener(t,e,n);for(const i of Array.from(r.frames))o.push(Ie(t,e,n,i))}catch{}return()=>{try{r.document.removeEventListener(t,e,n)}catch{}for(const i of o)i()}}var qn={...jr},an=qn.useId,ln=qn.useInsertionEffect,U=Qe?l.useLayoutEffect:l.useEffect;function Ao(t){const[e]=l.useState(t);return e}function Do(t){const e=l.useRef(t);return U(()=>{e.current=t}),e}function B(t){const e=l.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return ln?ln(()=>{e.current=t}):e.current=t,l.useCallback((...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function To(t){const[e,n]=l.useState(null);return U(()=>{if(e==null||!t)return;let r=null;return t(o=>(r=o,e)),()=>{t(r)}},[e,t]),[e,n]}function se(...t){return l.useMemo(()=>{if(t.some(Boolean))return e=>{for(const n of t)wt(n,e)}},t)}function qe(t){if(an){const r=an();return t||r}const[e,n]=l.useState(t);return U(()=>{if(t||e)return;const r=Math.random().toString(36).slice(2,8);n(`id-${r}`)},[t,e]),t||e}function Wn(t,e){const n=u=>{if(typeof u=="string")return u},[r,o]=l.useState(()=>n(e));return U(()=>{const u=t&&"current"in t?t.current:t;o((u==null?void 0:u.tagName.toLowerCase())||n(e))},[t,e]),r}function Fo(t,e,n){const r=Ao(n),[o,u]=l.useState(r);return l.useEffect(()=>{const i=t&&"current"in t?t.current:t;if(!i)return;const c=()=>{const a=i.getAttribute(e);u(a??r)},s=new MutationObserver(c);return s.observe(i,{attributeFilter:[e]}),c(),()=>s.disconnect()},[t,e,r]),o}function rt(t,e){const n=l.useRef(!1);l.useEffect(()=>{if(n.current)return t();n.current=!0},e),l.useEffect(()=>()=>{n.current=!1},[])}function Ro(t,e){const n=l.useRef(!1);U(()=>{if(n.current)return t();n.current=!0},e),U(()=>()=>{n.current=!1},[])}function Yn(){return l.useReducer(()=>[],[])}function te(t){return B(typeof t=="function"?t:()=>t)}function be(t,e,n=[]){const r=l.useCallback(o=>(t.wrapElement&&(o=t.wrapElement(o)),e(o)),[...n,t.wrapElement]);return{...t,wrapElement:r}}function Xn(t=!1,e){const[n,r]=l.useState(null);return{portalRef:se(r,e),portalNode:n,domReady:!t||n}}function Gn(t,e,n){const r=t.onLoadedMetadataCapture,o=l.useMemo(()=>Object.assign(()=>{},{...r,[e]:n}),[r,e,n]);return[r==null?void 0:r[e],{onLoadedMetadataCapture:o}]}var fn=!1;function Mo(){return l.useEffect(()=>{fn||(Ie("mousemove",ko,!0),Ie("mousedown",it,!0),Ie("mouseup",it,!0),Ie("keydown",it,!0),Ie("scroll",it,!0),fn=!0)},[]),B(()=>Ot)}var Ot=!1,dn=0,vn=0;function Lo(t){const e=t.movementX||t.screenX-dn,n=t.movementY||t.screenY-vn;return dn=t.screenX,vn=t.screenY,e||n||!1}function ko(t){Lo(t)&&(Ot=!0)}function it(){Ot=!1}function q(t){const e=l.forwardRef((n,r)=>t({...n,ref:r}));return e.displayName=t.displayName||t.name,e}function $t(t,e){return l.memo(t,e)}function W(t,e){const{wrapElement:n,render:r,...o}=e,u=se(e.ref,bo(r));let i;if(l.isValidElement(r)){const c={...r.props,ref:u};i=l.cloneElement(r,go(o,c))}else r?i=r(o):i=V.jsx(t,{...o});return n?n(i):i}function Y(t){const e=(n={})=>t(n);return e.displayName=t.name,e}function We(t=[],e=[]){const n=l.createContext(void 0),r=l.createContext(void 0),o=()=>l.useContext(n),u=(a=!1)=>{const f=l.useContext(r),E=o();return a?f:f||E},i=()=>{const a=l.useContext(r),f=o();if(!(a&&a===f))return f},c=a=>t.reduceRight((f,E)=>V.jsx(E,{...a,children:f}),V.jsx(n.Provider,{...a}));return{context:n,scopedContext:r,useContext:o,useScopedContext:u,useProviderContext:i,ContextProvider:c,ScopedContextProvider:a=>V.jsx(c,{...a,children:e.reduceRight((f,E)=>V.jsx(E,{...a,children:f}),V.jsx(r.Provider,{...a}))})}}var _t=We(),Vo=_t.useContext,No=_t.ContextProvider,Oo=_t.ScopedContextProvider,ft=We([No],[Oo]),Jn=ft.useContext,$o=ft.useProviderContext,Bt=ft.ContextProvider,Zn=ft.ScopedContextProvider,_o=l.createContext(void 0),Bo=l.createContext(void 0);function jo(t,e){return t.find(n=>!n.disabled)}function _e(t,e){return e&&t.item(e)||null}function Ko(t){const e=[];for(const n of t){const r=e.find(o=>{var u;return((u=o[0])==null?void 0:u.rowId)===n.rowId});r?r.push(n):e.push([n])}return e}function Ho(t,e=!1){if(ke(t))t.setSelectionRange(e?t.value.length:0,t.value.length);else if(t.isContentEditable){const n=G(t).getSelection();n==null||n.selectAllChildren(t),e&&(n==null||n.collapseToEnd())}}var At=Symbol("FOCUS_SILENTLY");function zo(t){t[At]=!0,t.focus({preventScroll:!0})}function Uo(t){const e=t[At];return delete t[At],e}function tt(t,e,n){return!(!e||e===n||!t.item(e.id))}var qo="div",Qn=Y(function({store:e,shouldRegisterItem:n=!0,getItem:r=_n,element:o,...u}){const i=Vo();e=e||i;const c=qe(u.id),s=l.useRef(o);return l.useEffect(()=>{const a=s.current;if(!c||!a||!n)return;const f=r({id:c,element:a});return e==null?void 0:e.renderItem(f)},[c,n,r,e]),u={...u,ref:se(s,u.ref)},je(u)});q(function(e){const n=Qn(e);return W(qo,n)});var er=l.createContext(!0),dt="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], summary, iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])";function Wo(t){return Number.parseInt(t.getAttribute("tabindex")||"0",10)<0}function we(t){return!(!t.matches(dt)||!Kn(t)||t.closest("[inert]"))}function nt(t){if(!we(t)||Wo(t))return!1;if(!("form"in t)||!t.form||t.checked||t.type!=="radio")return!0;const e=t.form.elements.namedItem(t.name);if(!e||!("length"in e))return!0;const n=Le(t);return!n||n===t||!("form"in n)||n.form!==t.form||n.name!==t.name}function jt(t,e){const n=Array.from(t.querySelectorAll(dt));e&&n.unshift(t);const r=n.filter(we);return r.forEach((o,u)=>{if(kt(o)&&o.contentDocument){const i=o.contentDocument.body;r.splice(u,1,...jt(i))}}),r}function vt(t,e,n){const r=Array.from(t.querySelectorAll(dt)),o=r.filter(nt);return e&&nt(t)&&o.unshift(t),o.forEach((u,i)=>{if(kt(u)&&u.contentDocument){const c=u.contentDocument.body,s=vt(c,!1,n);o.splice(i,1,...s)}}),!o.length&&n?r:o}function Yo(t,e,n){const[r]=vt(t,e,n);return r||null}function Xo(t,e,n,r){const o=Le(t),u=jt(t,e),i=u.indexOf(o),c=u.slice(i+1);return c.find(nt)||(n?u.find(nt):null)||(r?c[0]:null)||null}function xt(t,e){return Xo(document.body,!1,t,e)}function Go(t,e,n,r){const o=Le(t),u=jt(t,e).reverse(),i=u.indexOf(o);return u.slice(i+1).find(nt)||null||null||null}function mn(t,e){return Go(document.body,!1)}function Jo(t){for(;t&&!we(t);)t=t.closest(dt);return t||null}function ze(t){const e=Le(t);if(!e)return!1;if(e===t)return!0;const n=e.getAttribute("aria-activedescendant");return n?n===t.id:!1}function tr(t){const e=Le(t);if(!e)return!1;if(ue(t,e))return!0;const n=e.getAttribute("aria-activedescendant");return!n||!("id"in t)?!1:n===t.id?!0:!!t.querySelector(`#${CSS.escape(n)}`)}function nr(t){!tr(t)&&we(t)&&t.focus()}function Zo(t){var e;const n=(e=t.getAttribute("tabindex"))!=null?e:"";t.setAttribute("data-tabindex",n),t.setAttribute("tabindex","-1")}function Qo(t,e){const n=vt(t,e);for(const r of n)Zo(r)}function eu(t){const e=t.querySelectorAll("[data-tabindex]"),n=r=>{const o=r.getAttribute("data-tabindex");r.removeAttribute("data-tabindex"),o?r.setAttribute("tabindex",o):r.removeAttribute("tabindex")};t.hasAttribute("data-tabindex")&&n(t);for(const r of e)n(r)}function tu(t,e){"scrollIntoView"in t?(t.focus({preventScroll:!0}),t.scrollIntoView({block:"nearest",inline:"nearest",...e})):t.focus()}var nu="div",bn=lt(),ru=["text","search","url","tel","email","password","number","date","month","week","time","datetime","datetime-local"],rr=Symbol("safariFocusAncestor");function ou(t){return t?!!t[rr]:!1}function gn(t,e){t&&(t[rr]=e)}function uu(t){const{tagName:e,readOnly:n,type:r}=t;return e==="TEXTAREA"&&!n||e==="SELECT"&&!n?!0:e==="INPUT"&&!n?ru.includes(r):!!(t.isContentEditable||t.getAttribute("role")==="combobox"&&t.dataset.name)}function iu(t){return"labels"in t?t.labels:null}function Sn(t){return t.tagName.toLowerCase()==="input"&&t.type?t.type==="radio"||t.type==="checkbox":!1}function su(t){return t?t==="button"||t==="summary"||t==="input"||t==="select"||t==="textarea"||t==="a":!0}function cu(t){return t?t==="button"||t==="input"||t==="select"||t==="textarea":!0}function au(t,e,n,r,o){return t?e?n&&!r?-1:void 0:n?o:o||0:o}function Et(t,e){return B(n=>{t==null||t(n),!n.defaultPrevented&&e&&(n.stopPropagation(),n.preventDefault())})}var hn=!1,Kt=!0;function lu(t){const e=t.target;e&&"hasAttribute"in e&&(e.hasAttribute("data-focus-visible")||(Kt=!1))}function fu(t){t.metaKey||t.ctrlKey||t.altKey||(Kt=!0)}var mt=Y(function({focusable:e=!0,accessibleWhenDisabled:n,autoFocus:r,onFocusVisible:o,...u}){const i=l.useRef(null);l.useEffect(()=>{e&&(hn||(Ie("mousedown",lu,!0),Ie("keydown",fu,!0),hn=!0))},[e]),bn&&l.useEffect(()=>{if(!e)return;const S=i.current;if(!S||!Sn(S))return;const F=iu(S);if(!F)return;const M=()=>queueMicrotask(()=>S.focus());for(const g of F)g.addEventListener("mouseup",M);return()=>{for(const g of F)g.removeEventListener("mouseup",M)}},[e]);const c=e&&Lt(u),s=!!c&&!n,[a,f]=l.useState(!1);l.useEffect(()=>{e&&s&&a&&f(!1)},[e,s,a]),l.useEffect(()=>{if(!e||!a)return;const S=i.current;if(!S||typeof IntersectionObserver>"u")return;const F=new IntersectionObserver(()=>{we(S)||f(!1)});return F.observe(S),()=>F.disconnect()},[e,a]);const E=Et(u.onKeyPressCapture,c),d=Et(u.onMouseDownCapture,c),m=Et(u.onClickCapture,c),h=u.onMouseDown,y=B(S=>{if(h==null||h(S),S.defaultPrevented||!e)return;const F=S.currentTarget;if(!bn||Un(S)||!Be(F)&&!Sn(F))return;let M=!1;const g=()=>{M=!0},O={capture:!0,once:!0};F.addEventListener("focusin",g,O);const k=Jo(F.parentElement);gn(k,!0),Ge(F,"mouseup",()=>{F.removeEventListener("focusin",g,!0),gn(k,!1),!M&&nr(F)})}),A=(S,F)=>{if(F&&(S.currentTarget=F),!e)return;const M=S.currentTarget;M&&ze(M)&&(o==null||o(S),!S.defaultPrevented&&(M.dataset.focusVisible="true",f(!0)))},x=u.onKeyDownCapture,b=B(S=>{if(x==null||x(S),S.defaultPrevented||!e||a||S.metaKey||S.altKey||S.ctrlKey||!Ee(S))return;const F=S.currentTarget;Ge(F,"focusout",()=>A(S,F))}),I=u.onFocusCapture,P=B(S=>{if(I==null||I(S),S.defaultPrevented||!e)return;if(!Ee(S)){f(!1);return}const F=S.currentTarget,M=()=>A(S,F);Kt||uu(S.target)?Ge(S.target,"focusout",M):f(!1)}),C=u.onBlur,_=B(S=>{C==null||C(S),e&&He(S)&&(S.currentTarget.removeAttribute("data-focus-visible"),f(!1))}),N=l.useContext(er),D=B(S=>{e&&r&&S&&N&&queueMicrotask(()=>{ze(S)||we(S)&&S.focus()})}),T=Wn(i),$=e&&su(T),v=e&&cu(T),p=u.style,R=l.useMemo(()=>s?{pointerEvents:"none",...p}:p,[s,p]);return u={"data-focus-visible":e&&a||void 0,"data-autofocus":r||void 0,"aria-disabled":c||void 0,...u,ref:se(i,D,u.ref),style:R,tabIndex:au(e,s,$,v,u.tabIndex),disabled:v&&s?!0:void 0,contentEditable:c?void 0:u.contentEditable,onKeyPressCapture:E,onClickCapture:m,onMouseDownCapture:d,onMouseDown:y,onKeyDownCapture:b,onFocusCapture:P,onBlur:_},je(u)});q(function(e){const n=mt(e);return W(nu,n)});var du="button";function xn(t){if(!t.isTrusted)return!1;const e=t.currentTarget;return t.key==="Enter"?Be(e)||e.tagName==="SUMMARY"||e.tagName==="A":t.key===" "?Be(e)||e.tagName==="SUMMARY"||e.tagName==="INPUT"||e.tagName==="SELECT":!1}var vu=Symbol("command"),Ht=Y(function({clickOnEnter:e=!0,clickOnSpace:n=!0,...r}){const o=l.useRef(null),[u,i]=l.useState(!1);l.useEffect(()=>{o.current&&i(Be(o.current))},[]);const[c,s]=l.useState(!1),a=l.useRef(!1),f=Lt(r),[E,d]=Gn(r,vu,!0),m=r.onKeyDown,h=B(x=>{m==null||m(x);const b=x.currentTarget;if(x.defaultPrevented||E||f||!Ee(x)||ke(b)||b.isContentEditable)return;const I=e&&x.key==="Enter",P=n&&x.key===" ",C=x.key==="Enter"&&!e,_=x.key===" "&&!n;if(C||_){x.preventDefault();return}if(I||P){const N=xn(x);if(I){if(!N){x.preventDefault();const{view:D,...T}=x,$=()=>cn(b,T);Co()?Ge(b,"keyup",$):queueMicrotask($)}}else P&&(a.current=!0,N||(x.preventDefault(),s(!0)))}}),y=r.onKeyUp,A=B(x=>{if(y==null||y(x),x.defaultPrevented||E||f||x.metaKey)return;const b=n&&x.key===" ";if(a.current&&b&&(a.current=!1,!xn(x))){x.preventDefault(),s(!1);const I=x.currentTarget,{view:P,...C}=x;queueMicrotask(()=>cn(I,C))}});return r={"data-active":c||void 0,type:u?"button":void 0,...d,...r,ref:se(o,r.ref),onKeyDown:h,onKeyUp:A},r=mt(r),r});q(function(e){const n=Ht(e);return W(du,n)});function Ye(t,e){const n=t.__unstableInternals;return Se(n,"Invalid store"),n[e]}function Me(t,...e){let n=t,r=n,o=Symbol(),u=et;const i=new Set,c=new Set,s=new Set,a=new Set,f=new Set,E=new WeakMap,d=new WeakMap,m=D=>(s.add(D),()=>s.delete(D)),h=()=>{const D=i.size,T=Symbol();i.add(T);const $=()=>{i.delete(T),!i.size&&u()};if(D)return $;const v=vo(n).map(S=>ye(...e.map(F=>{var M;const g=(M=F==null?void 0:F.getState)==null?void 0:M.call(F);if(g&&Re(g,S))return me(F,[S],O=>{_(S,O[S],!0)})}))),p=[];for(const S of s)p.push(S());const R=e.map(zt);return u=ye(...v,...p,...R),$},y=(D,T,$=a)=>($.add(T),d.set(T,D),()=>{var v;(v=E.get(T))==null||v(),E.delete(T),d.delete(T),$.delete(T)}),A=(D,T)=>y(D,T),x=(D,T)=>(E.set(T,T(n,n)),y(D,T)),b=(D,T)=>(E.set(T,T(n,r)),y(D,T,f)),I=D=>Me(fo(n,D),N),P=D=>Me(lo(n,D),N),C=()=>n,_=(D,T,$=!1)=>{var v;if(!Re(n,D))return;const p=so(T,n[D]);if(p===n[D])return;if(!$)for(const M of e)(v=M==null?void 0:M.setState)==null||v.call(M,D,p);const R=n;n={...n,[D]:p};const S=Symbol();o=S,c.add(D);const F=(M,g,O)=>{var k;const J=d.get(M),ee=X=>O?O.has(X):X===D;(!J||J.some(ee))&&((k=E.get(M))==null||k(),E.set(M,M(n,g)))};for(const M of a)F(M,R);queueMicrotask(()=>{if(o!==S)return;const M=n;for(const g of f)F(g,r,c);r=M,c.clear()})},N={getState:C,setState:_,__unstableInternals:{setup:m,init:h,subscribe:A,sync:x,batch:b,pick:I,omit:P}};return N}function ve(t,...e){if(t)return Ye(t,"setup")(...e)}function zt(t,...e){if(t)return Ye(t,"init")(...e)}function Ut(t,...e){if(t)return Ye(t,"subscribe")(...e)}function me(t,...e){if(t)return Ye(t,"sync")(...e)}function at(t,...e){if(t)return Ye(t,"batch")(...e)}function or(t,...e){if(t)return Ye(t,"omit")(...e)}function mu(t,...e){if(t)return Ye(t,"pick")(...e)}function qt(...t){var e;const n={};for(const o of t){const u=(e=o==null?void 0:o.getState)==null?void 0:e.call(o);u&&Object.assign(n,u)}const r=Me(n,...t);return Object.assign({},...t,r)}var{useSyncExternalStore:ur}=io,ir=()=>()=>{};function ge(t,e=_n){const n=l.useCallback(o=>t?Ut(t,null,o):ir(),[t]),r=()=>{const o=typeof e=="string"?e:null,u=typeof e=="function"?e:null,i=t==null?void 0:t.getState();if(u)return u(i);if(i&&o&&Re(i,o))return i[o]};return ur(n,r,r)}function sr(t,e){const n=l.useRef({}),r=l.useCallback(u=>t?Ut(t,null,u):ir(),[t]),o=()=>{const u=t==null?void 0:t.getState();let i=!1;const c=n.current;for(const s in e){const a=e[s];if(typeof a=="function"){const f=a(u);f!==c[s]&&(c[s]=f,i=!0)}if(typeof a=="string"){if(!u||!Re(u,a))continue;const f=u[a];f!==c[s]&&(c[s]=f,i=!0)}}return i&&(n.current={...c}),n.current};return ur(r,o,o)}function oe(t,e,n,r){const o=Re(e,n)?e[n]:void 0,u=r?e[r]:void 0,i=Do({value:o,setValue:u});U(()=>me(t,[n],(c,s)=>{const{value:a,setValue:f}=i.current;f&&c[n]!==s[n]&&c[n]!==a&&f(c[n])}),[t,n]),U(()=>{if(o!==void 0)return t.setState(n,o),at(t,[n],()=>{o!==void 0&&t.setState(n,o)})})}function Wt(t,e){const[n,r]=l.useState(()=>t(e));U(()=>zt(n),[n]);const o=l.useCallback(c=>ge(n,c),[n]),u=l.useMemo(()=>({...n,useState:o}),[n,o]),i=B(()=>{r(c=>t({...e,...c.getState()}))});return[u,i]}var bu="button";function gu(t){return Pt(t)?!0:t.tagName==="INPUT"&&!Be(t)}function Su(t,e=!1){const n=t.clientHeight,{top:r}=t.getBoundingClientRect(),o=Math.max(n*.875,n-40)*1.5,u=e?n-o+r:o+r;return t.tagName==="HTML"?u+t.scrollTop:u}function hu(t,e=!1){const{top:n}=t.getBoundingClientRect();return e?n+t.clientHeight:n}function En(t,e,n,r=!1){var o;if(!e||!n)return;const{renderedItems:u}=e.getState(),i=Vt(t);if(!i)return;const c=Su(i,r);let s,a;for(let f=0;f<u.length;f+=1){const E=s;if(s=n(f),!s)break;if(s===E)continue;const d=(o=_e(e,s))==null?void 0:o.element;if(!d)continue;const h=hu(d,r)-c,y=Math.abs(h);if(r&&h<=0||!r&&h>=0){a!==void 0&&a<y&&(s=E);break}a=y}return s}function xu(t,e){return Ee(t)?!1:tt(e,t.target)}var cr=Y(function({store:e,rowId:n,preventScrollOnKeyDown:r=!1,moveOnKeyPress:o=!0,tabbable:u=!1,getItem:i,"aria-setsize":c,"aria-posinset":s,...a}){const f=Jn();e=e||f;const E=qe(a.id),d=l.useRef(null),m=l.useContext(Bo),y=Lt(a)&&!a.accessibleWhenDisabled,{rowId:A,baseElement:x,isActiveItem:b,ariaSetSize:I,ariaPosInSet:P,isTabbable:C}=sr(e,{rowId(g){if(n)return n;if(g&&m!=null&&m.baseElement&&m.baseElement===g.baseElement)return m.id},baseElement(g){return(g==null?void 0:g.baseElement)||void 0},isActiveItem(g){return!!g&&g.activeId===E},ariaSetSize(g){if(c!=null)return c;if(g&&m!=null&&m.ariaSetSize&&m.baseElement===g.baseElement)return m.ariaSetSize},ariaPosInSet(g){if(s!=null)return s;if(!g||!(m!=null&&m.ariaPosInSet)||m.baseElement!==g.baseElement)return;const O=g.renderedItems.filter(k=>k.rowId===A);return m.ariaPosInSet+O.findIndex(k=>k.id===E)},isTabbable(g){if(!(g!=null&&g.renderedItems.length))return!0;if(g.virtualFocus)return!1;if(u)return!0;if(g.activeId===null)return!1;const O=e==null?void 0:e.item(g.activeId);return O!=null&&O.disabled||!(O!=null&&O.element)?!0:g.activeId===E}}),_=l.useCallback(g=>{var O;const k={...g,id:E||g.id,rowId:A,disabled:!!y,children:(O=g.element)==null?void 0:O.textContent};return i?i(k):k},[E,A,y,i]),N=a.onFocus,D=l.useRef(!1),T=B(g=>{if(N==null||N(g),g.defaultPrevented||Un(g)||!E||!e||xu(g,e))return;const{virtualFocus:O,baseElement:k}=e.getState();if(e.setActiveId(E),Pt(g.currentTarget)&&Ho(g.currentTarget),!O||!Ee(g)||gu(g.currentTarget)||!(k!=null&&k.isConnected))return;lt()&&g.currentTarget.hasAttribute("data-autofocus")&&g.currentTarget.scrollIntoView({block:"nearest",inline:"nearest"}),D.current=!0,g.relatedTarget===k||tt(e,g.relatedTarget)?zo(k):k.focus()}),$=a.onBlurCapture,v=B(g=>{if($==null||$(g),g.defaultPrevented)return;const O=e==null?void 0:e.getState();O!=null&&O.virtualFocus&&D.current&&(D.current=!1,g.preventDefault(),g.stopPropagation())}),p=a.onKeyDown,R=te(r),S=te(o),F=B(g=>{if(p==null||p(g),g.defaultPrevented||!Ee(g)||!e)return;const{currentTarget:O}=g,k=e.getState(),J=e.item(E),ee=!!(J!=null&&J.rowId),X=k.orientation!=="horizontal",Z=k.orientation!=="vertical",le=()=>!!(ee||Z||!k.baseElement||!ke(k.baseElement)),fe={ArrowUp:(ee||X)&&e.up,ArrowRight:(ee||Z)&&e.next,ArrowDown:(ee||X)&&e.down,ArrowLeft:(ee||Z)&&e.previous,Home:()=>{if(le())return!ee||g.ctrlKey?e==null?void 0:e.first():e==null?void 0:e.previous(-1)},End:()=>{if(le())return!ee||g.ctrlKey?e==null?void 0:e.last():e==null?void 0:e.next(-1)},PageUp:()=>En(O,e,e==null?void 0:e.up,!0),PageDown:()=>En(O,e,e==null?void 0:e.down)}[g.key];if(fe){if(Pt(O)){const ce=pt(O),Ae=Z&&g.key==="ArrowLeft",Ve=Z&&g.key==="ArrowRight",Ce=X&&g.key==="ArrowUp",Pe=X&&g.key==="ArrowDown";if(Ve||Pe){const{length:Ne}=xo(O);if(ce.end!==Ne)return}else if((Ae||Ce)&&ce.start!==0)return}const de=fe();if(R(g)||de!==void 0){if(!S(g))return;g.preventDefault(),e.move(de)}}}),M=l.useMemo(()=>({id:E,baseElement:x}),[E,x]);return a=be(a,g=>V.jsx(_o.Provider,{value:M,children:g}),[M]),a={id:E,"data-active-item":b||void 0,...a,ref:se(d,a.ref),tabIndex:C?a.tabIndex:-1,onFocus:T,onBlurCapture:v,onKeyDown:F},a=Ht(a),a=Qn({store:e,...a,getItem:_,shouldRegisterItem:E?a.shouldRegisterItem:!1}),je({...a,"aria-setsize":I,"aria-posinset":P})});$t(q(function(e){const n=cr(e);return W(bu,n)}));function Eu(t){return Array.isArray(t)?t:typeof t<"u"?[t]:[]}function ar(t){const e=[];for(const n of t)e.push(...n);return e}function Dt(t){return t.slice().reverse()}var yu="div";function Cu(t){return t.some(e=>!!e.rowId)}function Iu(t){const e=t.target;return e&&!ke(e)?!1:t.key.length===1&&!t.ctrlKey&&!t.metaKey}function wu(t){return t.key==="Shift"||t.key==="Control"||t.key==="Alt"||t.key==="Meta"}function yn(t,e,n){return B(r=>{var o;if(e==null||e(r),r.defaultPrevented||r.isPropagationStopped()||!Ee(r)||wu(r)||Iu(r))return;const u=t.getState(),i=(o=_e(t,u.activeId))==null?void 0:o.element;if(!i)return;const{view:c,...s}=r,a=n==null?void 0:n.current;i!==a&&i.focus(),po(i,r.type,s)||r.preventDefault(),r.currentTarget.contains(i)&&r.stopPropagation()})}function Pu(t){return jo(ar(Dt(Ko(t))))}function pu(t){const[e,n]=l.useState(!1),r=l.useCallback(()=>n(!0),[]),o=t.useState(u=>_e(t,u.activeId));return l.useEffect(()=>{const u=o==null?void 0:o.element;e&&u&&(n(!1),u.focus({preventScroll:!0}))},[o,e]),r}var lr=Y(function({store:e,composite:n=!0,focusOnMove:r=n,moveOnKeyPress:o=!0,...u}){const i=$o();e=e||i,Se(e,!1);const c=l.useRef(null),s=l.useRef(null),a=pu(e),f=e.useState("moves"),[,E]=To(n?e.setBaseElement:null);l.useEffect(()=>{var v;if(!e||!f||!n||!r)return;const{activeId:p}=e.getState(),R=(v=_e(e,p))==null?void 0:v.element;R&&tu(R)},[e,f,n,r]),U(()=>{if(!e||!f||!n)return;const{baseElement:v,activeId:p}=e.getState();if(!(p===null)||!v)return;const S=s.current;s.current=null,S&&Xe(S,{relatedTarget:v}),ze(v)||v.focus()},[e,f,n]);const d=e.useState("activeId"),m=e.useState("virtualFocus");U(()=>{var v;if(!e||!n||!m)return;const p=s.current;if(s.current=null,!p)return;const S=((v=_e(e,d))==null?void 0:v.element)||Le(p);S!==p&&Xe(p,{relatedTarget:S})},[e,d,m,n]);const h=yn(e,u.onKeyDownCapture,s),y=yn(e,u.onKeyUpCapture,s),A=u.onFocusCapture,x=B(v=>{if(A==null||A(v),v.defaultPrevented||!e)return;const{virtualFocus:p}=e.getState();if(!p)return;const R=v.relatedTarget,S=Uo(v.currentTarget);Ee(v)&&S&&(v.stopPropagation(),s.current=R)}),b=u.onFocus,I=B(v=>{if(b==null||b(v),v.defaultPrevented||!n||!e)return;const{relatedTarget:p}=v,{virtualFocus:R}=e.getState();R?Ee(v)&&!tt(e,p)&&queueMicrotask(a):Ee(v)&&e.setActiveId(null)}),P=u.onBlurCapture,C=B(v=>{var p;if(P==null||P(v),v.defaultPrevented||!e)return;const{virtualFocus:R,activeId:S}=e.getState();if(!R)return;const F=(p=_e(e,S))==null?void 0:p.element,M=v.relatedTarget,g=tt(e,M),O=s.current;s.current=null,Ee(v)&&g?(M===F?O&&O!==M&&Xe(O,v):F?Xe(F,v):O&&Xe(O,v),v.stopPropagation()):!tt(e,v.target)&&F&&Xe(F,v)}),_=u.onKeyDown,N=te(o),D=B(v=>{var p;if(_==null||_(v),v.nativeEvent.isComposing||v.defaultPrevented||!e||!Ee(v))return;const{orientation:R,renderedItems:S,activeId:F}=e.getState(),M=_e(e,F);if((p=M==null?void 0:M.element)!=null&&p.isConnected)return;const g=R!=="horizontal",O=R!=="vertical",k=Cu(S);if((v.key==="ArrowLeft"||v.key==="ArrowRight"||v.key==="Home"||v.key==="End")&&ke(v.currentTarget))return;const Z={ArrowUp:(k||g)&&(()=>{if(k){const le=Pu(S);return le==null?void 0:le.id}return e==null?void 0:e.last()}),ArrowRight:(k||O)&&e.first,ArrowDown:(k||g)&&e.first,ArrowLeft:(k||O)&&e.last,Home:e.first,End:e.last,PageUp:e.first,PageDown:e.last}[v.key];if(Z){const le=Z();if(le!==void 0){if(!N(v))return;v.preventDefault(),e.move(le)}}});u=be(u,v=>V.jsx(Bt,{value:e,children:v}),[e]),u={"aria-activedescendant":e.useState(v=>{var p;if(e&&n&&v.virtualFocus)return(p=_e(e,v.activeId))==null?void 0:p.id}),...u,ref:se(c,E,u.ref),onKeyDownCapture:h,onKeyUpCapture:y,onFocusCapture:x,onFocus:I,onBlurCapture:C,onKeyDown:D};const $=e.useState(v=>n&&(v.virtualFocus||v.activeId===null));return u=mt({focusable:$,...u}),u});q(function(e){const n=lr(e);return W(yu,n)});var Yt=We(),Xt=Yt.useProviderContext,Au=Yt.ContextProvider,Du=Yt.ScopedContextProvider,Gt=We([Au],[Du]),bt=Gt.useProviderContext,Tu=Gt.ContextProvider,Jt=Gt.ScopedContextProvider,Fu=l.createContext(void 0),Ru=l.createContext(void 0),Mu="div";function Cn(t,e){const n=setTimeout(e,t);return()=>clearTimeout(n)}function Lu(t){let e=requestAnimationFrame(()=>{e=requestAnimationFrame(t)});return()=>cancelAnimationFrame(e)}function In(...t){return t.join(", ").split(", ").reduce((e,n)=>{const r=n.endsWith("ms")?1:1e3,o=Number.parseFloat(n||"0s")*r;return o>e?o:e},0)}function Zt(t,e,n){return!n&&e!==!1&&(!t||!!e)}var Qt=Y(function({store:e,alwaysVisible:n,...r}){const o=Xt();e=e||o,Se(e,!1);const u=l.useRef(null),i=qe(r.id),[c,s]=l.useState(null),a=e.useState("open"),f=e.useState("mounted"),E=e.useState("animated"),d=e.useState("contentElement"),m=ge(e.disclosure,"contentElement");U(()=>{u.current&&(e==null||e.setContentElement(u.current))},[e]),U(()=>{let x;return e==null||e.setState("animated",b=>(x=b,!0)),()=>{x!==void 0&&(e==null||e.setState("animated",x))}},[e]),U(()=>{if(E){if(!(d!=null&&d.isConnected)){s(null);return}return Lu(()=>{s(a?"enter":f?"leave":null)})}},[E,d,a,f]),U(()=>{if(!e||!E||!c||!d)return;const x=()=>e==null?void 0:e.setState("animating",!1),b=()=>ct.flushSync(x);if(c==="leave"&&a||c==="enter"&&!a)return;if(typeof E=="number")return Cn(E,b);const{transitionDuration:I,animationDuration:P,transitionDelay:C,animationDelay:_}=getComputedStyle(d),{transitionDuration:N="0",animationDuration:D="0",transitionDelay:T="0",animationDelay:$="0"}=m?getComputedStyle(m):{},v=In(C,_,T,$),p=In(I,P,N,D),R=v+p;if(!R){c==="enter"&&e.setState("animated",!1),x();return}const S=1e3/60,F=Math.max(R-S,0);return Cn(F,b)},[e,E,d,m,a,c]),r=be(r,x=>V.jsx(Jt,{value:e,children:x}),[e]);const h=Zt(f,r.hidden,n),y=r.style,A=l.useMemo(()=>h?{...y,display:"none"}:y,[h,y]);return r={id:i,"data-open":a||void 0,"data-enter":c==="enter"||void 0,"data-leave":c==="leave"||void 0,hidden:h,...r,ref:se(i?e.setContentElement:null,u,r.ref),style:A},je(r)}),ku=q(function(e){const n=Qt(e);return W(Mu,n)});q(function({unmountOnHide:e,...n}){const r=Xt(),o=n.store||r;return ge(o,i=>!e||(i==null?void 0:i.mounted))===!1?null:V.jsx(ku,{...n})});function fr(t={}){const e=qt(t.store,or(t.disclosure,["contentElement","disclosureElement"])),n=e==null?void 0:e.getState(),r=z(t.open,n==null?void 0:n.open,t.defaultOpen,!1),o=z(t.animated,n==null?void 0:n.animated,!1),u={open:r,animated:o,animating:!!o&&r,mounted:r,contentElement:z(n==null?void 0:n.contentElement,null),disclosureElement:z(n==null?void 0:n.disclosureElement,null)},i=Me(u,e);return ve(i,()=>me(i,["animated","animating"],c=>{c.animated||i.setState("animating",!1)})),ve(i,()=>Ut(i,["open"],()=>{i.getState().animated&&i.setState("animating",!0)})),ve(i,()=>me(i,["open","animating"],c=>{i.setState("mounted",c.open||c.animating)})),{...i,disclosure:t.disclosure,setOpen:c=>i.setState("open",c),show:()=>i.setState("open",!0),hide:()=>i.setState("open",!1),toggle:()=>i.setState("open",c=>!c),stopAnimation:()=>i.setState("animating",!1),setContentElement:c=>i.setState("contentElement",c),setDisclosureElement:c=>i.setState("disclosureElement",c)}}function dr(t,e,n){return rt(e,[n.store,n.disclosure]),oe(t,n,"open","setOpen"),oe(t,n,"mounted","setMounted"),oe(t,n,"animated"),Object.assign(t,{disclosure:n.disclosure})}function Vu(t={}){const[e,n]=Wt(fr,t);return dr(e,n,t)}var en=We([Tu],[Jt]),tn=en.useProviderContext,Nu=en.ContextProvider,vr=en.ScopedContextProvider;function Ou(t){var e;const n=t.find(u=>!!u.element),r=[...t].reverse().find(u=>!!u.element);let o=(e=n==null?void 0:n.element)==null?void 0:e.parentElement;for(;o&&(r!=null&&r.element);){if(r&&o.contains(r.element))return o;o=o.parentElement}return G(o).body}function $u(t){return t==null?void 0:t.__unstablePrivateStore}function _u(t={}){var e;t.store;const n=(e=t.store)==null?void 0:e.getState(),r=z(t.items,n==null?void 0:n.items,t.defaultItems,[]),o=new Map(r.map(d=>[d.id,d])),u={items:r,renderedItems:z(n==null?void 0:n.renderedItems,[])},i=$u(t.store),c=Me({items:r,renderedItems:u.renderedItems},i),s=Me(u,t.store),a=d=>{const m=Eo(d,h=>h.element);c.setState("renderedItems",m),s.setState("renderedItems",m)};ve(s,()=>zt(c)),ve(c,()=>at(c,["items"],d=>{s.setState("items",d.items)})),ve(c,()=>at(c,["renderedItems"],d=>{let m=!0,h=requestAnimationFrame(()=>{const{renderedItems:b}=s.getState();d.renderedItems!==b&&a(d.renderedItems)});if(typeof IntersectionObserver!="function")return()=>cancelAnimationFrame(h);const y=()=>{if(m){m=!1;return}cancelAnimationFrame(h),h=requestAnimationFrame(()=>a(d.renderedItems))},A=Ou(d.renderedItems),x=new IntersectionObserver(y,{root:A});for(const b of d.renderedItems)b.element&&x.observe(b.element);return()=>{cancelAnimationFrame(h),x.disconnect()}}));const f=(d,m,h=!1)=>{let y;return m(x=>{const b=x.findIndex(({id:P})=>P===d.id),I=x.slice();if(b!==-1){y=x[b];const P={...y,...d};I[b]=P,o.set(d.id,P)}else I.push(d),o.set(d.id,d);return I}),()=>{m(x=>{if(!y)return h&&o.delete(d.id),x.filter(({id:P})=>P!==d.id);const b=x.findIndex(({id:P})=>P===d.id);if(b===-1)return x;const I=x.slice();return I[b]=y,o.set(d.id,y),I})}},E=d=>f(d,m=>c.setState("items",m),!0);return{...s,registerItem:E,renderItem:d=>ye(E(d),f(d,m=>c.setState("renderedItems",m))),item:d=>{if(!d)return null;let m=o.get(d);if(!m){const{items:h}=c.getState();m=h.find(y=>y.id===d),m&&o.set(d,m)}return m||null},__unstablePrivateStore:c}}function Bu(t,e,n){return rt(e,[n.store]),oe(t,n,"items","setItems"),t}var ju={id:null};function Fe(t,e){return t.find(n=>e?!n.disabled&&n.id!==e:!n.disabled)}function Ku(t,e){return t.filter(n=>e?!n.disabled&&n.id!==e:!n.disabled)}function wn(t,e){return t.filter(n=>n.rowId===e)}function Hu(t,e,n=!1){const r=t.findIndex(o=>o.id===e);return[...t.slice(r+1),...n?[ju]:[],...t.slice(0,r)]}function mr(t){const e=[];for(const n of t){const r=e.find(o=>{var u;return((u=o[0])==null?void 0:u.rowId)===n.rowId});r?r.push(n):e.push([n])}return e}function br(t){let e=0;for(const{length:n}of t)n>e&&(e=n);return e}function zu(t){return{id:"__EMPTY_ITEM__",disabled:!0,rowId:t}}function Uu(t,e,n){const r=br(t);for(const o of t)for(let u=0;u<r;u+=1){const i=o[u];if(!i||n&&i.disabled){const s=u===0&&n?Fe(o):o[u-1];o[u]=s&&e!==s.id&&n?s:zu(s==null?void 0:s.rowId)}}return t}function qu(t){const e=mr(t),n=br(e),r=[];for(let o=0;o<n;o+=1)for(const u of e){const i=u[o];i&&r.push({...i,rowId:i.rowId?`${o}`:void 0})}return r}function Wu(t={}){var e;const n=(e=t.store)==null?void 0:e.getState(),r=_u(t),o=z(t.activeId,n==null?void 0:n.activeId,t.defaultActiveId),u={...r.getState(),id:z(t.id,n==null?void 0:n.id,`id-${Math.random().toString(36).slice(2,8)}`),activeId:o,baseElement:z(n==null?void 0:n.baseElement,null),includesBaseElement:z(t.includesBaseElement,n==null?void 0:n.includesBaseElement,o===null),moves:z(n==null?void 0:n.moves,0),orientation:z(t.orientation,n==null?void 0:n.orientation,"both"),rtl:z(t.rtl,n==null?void 0:n.rtl,!1),virtualFocus:z(t.virtualFocus,n==null?void 0:n.virtualFocus,!1),focusLoop:z(t.focusLoop,n==null?void 0:n.focusLoop,!1),focusWrap:z(t.focusWrap,n==null?void 0:n.focusWrap,!1),focusShift:z(t.focusShift,n==null?void 0:n.focusShift,!1)},i=Me(u,r,t.store);ve(i,()=>me(i,["renderedItems","activeId"],s=>{i.setState("activeId",a=>{var f;return a!==void 0?a:(f=Fe(s.renderedItems))==null?void 0:f.id})}));const c=(s="next",a={})=>{var f,E;const d=i.getState(),{skip:m=0,activeId:h=d.activeId,focusShift:y=d.focusShift,focusLoop:A=d.focusLoop,focusWrap:x=d.focusWrap,includesBaseElement:b=d.includesBaseElement,renderedItems:I=d.renderedItems,rtl:P=d.rtl}=a,C=s==="up"||s==="down",_=s==="next"||s==="down",N=_?P&&!C:!P||C,D=y&&!m;let T=C?ar(Uu(mr(I),h,D)):I;if(T=N?Dt(T):T,T=C?qu(T):T,h==null)return(f=Fe(T))==null?void 0:f.id;const $=T.find(k=>k.id===h);if(!$)return(E=Fe(T))==null?void 0:E.id;const v=T.some(k=>k.rowId),p=T.indexOf($),R=T.slice(p+1),S=wn(R,$.rowId);if(m){const k=Ku(S,h),J=k.slice(m)[0]||k[k.length-1];return J==null?void 0:J.id}const F=A&&(C?A!=="horizontal":A!=="vertical"),M=v&&x&&(C?x!=="horizontal":x!=="vertical"),g=_?(!v||C)&&F&&b:C?b:!1;if(F){const k=M&&!g?T:wn(T,$.rowId),J=Hu(k,h,g),ee=Fe(J,h);return ee==null?void 0:ee.id}if(M){const k=Fe(g?S:R,h);return g?(k==null?void 0:k.id)||null:k==null?void 0:k.id}const O=Fe(S,h);return!O&&g?null:O==null?void 0:O.id};return{...r,...i,setBaseElement:s=>i.setState("baseElement",s),setActiveId:s=>i.setState("activeId",s),move:s=>{s!==void 0&&(i.setState("activeId",s),i.setState("moves",a=>a+1))},first:()=>{var s;return(s=Fe(i.getState().renderedItems))==null?void 0:s.id},last:()=>{var s;return(s=Fe(Dt(i.getState().renderedItems)))==null?void 0:s.id},next:s=>(s!==void 0&&typeof s=="number"&&(s={skip:s}),c("next",s)),previous:s=>(s!==void 0&&typeof s=="number"&&(s={skip:s}),c("previous",s)),down:s=>(s!==void 0&&typeof s=="number"&&(s={skip:s}),c("down",s)),up:s=>(s!==void 0&&typeof s=="number"&&(s={skip:s}),c("up",s))}}function Yu(t){return{id:qe(t.id),...t}}function Xu(t,e,n){return t=Bu(t,e,n),oe(t,n,"activeId","setActiveId"),oe(t,n,"includesBaseElement"),oe(t,n,"virtualFocus"),oe(t,n,"orientation"),oe(t,n,"rtl"),oe(t,n,"focusLoop"),oe(t,n,"focusWrap"),oe(t,n,"focusShift"),t}var gr=l.createContext(void 0),ot=We([Nu,Bt],[vr,Zn]),Gu=ot.useContext,nn=ot.useScopedContext,gt=ot.useProviderContext,Ju=ot.ContextProvider,Zu=ot.ScopedContextProvider,Sr=l.createContext(void 0),hr=l.createContext(!1),Qu="hr",ei=Y(function({orientation:e="horizontal",...n}){return n={role:"separator","aria-orientation":e,...n},n}),Vs=q(function(e){const n=ei(e);return W(Qu,n)}),Pn=l.createContext(null),ti="span",xr=Y(function(e){return e={...e,style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px",...e.style}},e});q(function(e){const n=xr(e);return W(ti,n)});var ni="span",ri=Y(function(e){return e={"data-focus-trap":"",tabIndex:0,"aria-hidden":!0,...e,style:{position:"fixed",top:0,left:0,...e.style}},e=xr(e),e}),st=q(function(e){const n=ri(e);return W(ni,n)}),oi="div";function ui(t){return G(t).body}function ii(t,e){return e?typeof e=="function"?e(t):e:G(t).createElement("div")}function si(t="id"){return`${t?`${t}-`:""}${Math.random().toString(36).slice(2,8)}`}function $e(t){queueMicrotask(()=>{t==null||t.focus()})}var Er=Y(function({preserveTabOrder:e,preserveTabOrderAnchor:n,portalElement:r,portalRef:o,portal:u=!0,...i}){const c=l.useRef(null),s=se(c,i.ref),a=l.useContext(Pn),[f,E]=l.useState(null),[d,m]=l.useState(null),h=l.useRef(null),y=l.useRef(null),A=l.useRef(null),x=l.useRef(null);return U(()=>{const b=c.current;if(!b||!u){E(null);return}const I=ii(b,r);if(!I){E(null);return}const P=I.isConnected;if(P||(a||ui(b)).appendChild(I),I.id||(I.id=b.id?`portal/${b.id}`:si()),E(I),wt(o,I),!P)return()=>{I.remove(),wt(o,null)}},[u,r,a,o]),U(()=>{if(!u||!e||!n)return;const I=G(n).createElement("span");return I.style.position="fixed",n.insertAdjacentElement("afterend",I),m(I),()=>{I.remove(),m(null)}},[u,e,n]),l.useEffect(()=>{if(!f||!e)return;let b=0;const I=P=>{if(!He(P))return;const C=P.type==="focusin";if(cancelAnimationFrame(b),C)return eu(f);b=requestAnimationFrame(()=>{Qo(f,!0)})};return f.addEventListener("focusin",I,!0),f.addEventListener("focusout",I,!0),()=>{cancelAnimationFrame(b),f.removeEventListener("focusin",I,!0),f.removeEventListener("focusout",I,!0)}},[f,e]),i=be(i,b=>{if(b=V.jsx(Pn.Provider,{value:f||a,children:b}),!u)return b;if(!f)return V.jsx("span",{ref:s,id:i.id,style:{position:"fixed"},hidden:!0});b=V.jsxs(V.Fragment,{children:[e&&f&&V.jsx(st,{ref:y,"data-focus-trap":i.id,className:"__focus-trap-inner-before",onFocus:P=>{He(P,f)?$e(xt()):$e(h.current)}}),b,e&&f&&V.jsx(st,{ref:A,"data-focus-trap":i.id,className:"__focus-trap-inner-after",onFocus:P=>{He(P,f)?$e(mn()):$e(x.current)}})]}),f&&(b=ct.createPortal(b,f));let I=V.jsxs(V.Fragment,{children:[e&&f&&V.jsx(st,{ref:h,"data-focus-trap":i.id,className:"__focus-trap-outer-before",onFocus:P=>{!(P.relatedTarget===x.current)&&He(P,f)?$e(y.current):$e(mn())}}),e&&V.jsx("span",{"aria-owns":f==null?void 0:f.id,style:{position:"fixed"}}),e&&f&&V.jsx(st,{ref:x,"data-focus-trap":i.id,className:"__focus-trap-outer-after",onFocus:P=>{if(He(P,f))$e(A.current);else{const C=xt();if(C===y.current){requestAnimationFrame(()=>{var _;return(_=xt())==null?void 0:_.focus()});return}$e(C)}}})]});return d&&e&&(I=ct.createPortal(I,d)),V.jsxs(V.Fragment,{children:[I,b]})},[f,a,u,i.id,e,d]),i={...i,ref:s},i});q(function(e){const n=Er(e);return W(oi,n)});var pn=l.createContext(0);function ci({level:t,children:e}){const n=l.useContext(pn),r=Math.max(Math.min(t||n+1,6),1);return V.jsx(pn.Provider,{value:r,children:e})}var ai="div",yr=Y(function({autoFocusOnShow:e=!0,...n}){return n=be(n,r=>V.jsx(er.Provider,{value:e,children:r}),[e]),n});q(function(e){const n=yr(e);return W(ai,n)});function li(t,e){const r=G(t).createElement("button");return r.type="button",r.tabIndex=-1,r.textContent="Dismiss popup",Object.assign(r.style,{border:"0px",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute",whiteSpace:"nowrap",width:"1px"}),r.addEventListener("click",e),t.prepend(r),()=>{r.removeEventListener("click",e),r.remove()}}function fi(t){const e=l.useRef();return l.useEffect(()=>{if(!t){e.current=null;return}return Ie("mousedown",r=>{e.current=r.target},!0)},[t]),e}var yt=new WeakMap;function ut(t,e,n){yt.has(t)||yt.set(t,new Map);const r=yt.get(t),o=r.get(e);if(!o)return r.set(e,n()),()=>{var c;(c=r.get(e))==null||c(),r.delete(e)};const u=n(),i=()=>{u(),o(),r.delete(e)};return r.set(e,i),()=>{r.get(e)===i&&(u(),r.set(e,o))}}function rn(t,e,n){return ut(t,e,()=>{const o=t.getAttribute(e);return t.setAttribute(e,n),()=>{o==null?t.removeAttribute(e):t.setAttribute(e,o)}})}function Ue(t,e,n){return ut(t,e,()=>{const o=e in t,u=t[e];return t[e]=n,()=>{o?t[e]=u:delete t[e]}})}function Tt(t,e){return t?ut(t,"style",()=>{const r=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=r}}):()=>{}}function di(t,e,n){return t?ut(t,e,()=>{const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}):()=>{}}var vi=["SCRIPT","STYLE"];function Ft(t){return`__ariakit-dialog-snapshot-${t}`}function mi(t,e){const n=G(e),r=Ft(t);if(!n.body[r])return!0;do{if(e===n.body)return!1;if(e[r])return!0;if(!e.parentElement)return!1;e=e.parentElement}while(!0)}function bi(t,e,n){return vi.includes(e.tagName)||!mi(t,e)?!1:!n.some(r=>r&&ue(e,r))}function on(t,e,n,r){for(let o of e){if(!(o!=null&&o.isConnected))continue;const u=e.some(s=>!s||s===o?!1:s.contains(o)),i=G(o),c=o;for(;o.parentElement&&o!==i.body;){if(r==null||r(o.parentElement,c),!u)for(const s of o.parentElement.children)bi(t,s,e)&&n(s,c);o=o.parentElement}}}function gi(t,e){const{body:n}=G(e[0]),r=[];return on(t,e,u=>{r.push(Ue(u,Ft(t),!0))}),ye(Ue(n,Ft(t),!0),()=>{for(const u of r)u()})}function Cr(t,...e){if(!t)return!1;const n=t.getAttribute("data-backdrop");return n==null?!1:n===""||n==="true"||!e.length?!0:e.some(r=>n===r)}function Ze(t="",e=!1){return`__ariakit-dialog-${e?"ancestor":"outside"}${t?`-${t}`:""}`}function Si(t,e=""){return ye(Ue(t,Ze(),!0),Ue(t,Ze(e),!0))}function Ir(t,e=""){return ye(Ue(t,Ze("",!0),!0),Ue(t,Ze(e,!0),!0))}function un(t,e){const n=Ze(e,!0);if(t[n])return!0;const r=Ze(e);do{if(t[r])return!0;if(!t.parentElement)return!1;t=t.parentElement}while(!0)}function An(t,e){const n=[],r=e.map(u=>u==null?void 0:u.id);return on(t,e,u=>{Cr(u,...r)||n.unshift(Si(u,t))},(u,i)=>{i.hasAttribute("data-dialog")&&i.id!==t||n.unshift(Ir(u,t))}),()=>{for(const u of n)u()}}function hi(t){return t.tagName==="HTML"?!0:ue(G(t).body,t)}function xi(t,e){if(!t)return!1;if(ue(t,e))return!0;const n=e.getAttribute("aria-activedescendant");if(n){const r=G(t).getElementById(n);if(r)return ue(t,r)}return!1}function Ei(t,e){if(!("clientY"in t))return!1;const n=e.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=t.clientY&&t.clientY<=n.top+n.height&&n.left<=t.clientX&&t.clientX<=n.left+n.width}function Ct({store:t,type:e,listener:n,capture:r,domReady:o}){const u=B(n),i=ge(t,"open"),c=l.useRef(!1);U(()=>{if(!i||!o)return;const{contentElement:s}=t.getState();if(!s)return;const a=()=>{c.current=!0};return s.addEventListener("focusin",a,!0),()=>s.removeEventListener("focusin",a,!0)},[t,i,o]),l.useEffect(()=>i?Ie(e,a=>{const{contentElement:f,disclosureElement:E}=t.getState(),d=a.target;!f||!d||!hi(d)||ue(f,d)||xi(E,d)||d.hasAttribute("data-focus-trap")||Ei(a,f)||c.current&&!un(d,f.id)||ou(d)||u(a)},r):void 0,[i,r])}function It(t,e){return typeof t=="function"?t(e):!!t}function yi(t,e,n){const r=ge(t,"open"),o=fi(r),u={store:t,domReady:n,capture:!0};Ct({...u,type:"click",listener:i=>{const{contentElement:c}=t.getState(),s=o.current;s&&Kn(s)&&un(s,c==null?void 0:c.id)&&It(e,i)&&t.hide()}}),Ct({...u,type:"focusin",listener:i=>{const{contentElement:c}=t.getState();c&&i.target!==G(c)&&It(e,i)&&t.hide()}}),Ct({...u,type:"contextmenu",listener:i=>{It(e,i)&&t.hide()}})}var Dn=l.createContext({});function Ci(t){const e=l.useContext(Dn),[n,r]=l.useState([]),o=l.useCallback(c=>{var s;return r(a=>[...a,c]),ye((s=e.add)==null?void 0:s.call(e,c),()=>{r(a=>a.filter(f=>f!==c))})},[e]);U(()=>me(t,["open","contentElement"],c=>{var s;if(c.open&&c.contentElement)return(s=e.add)==null?void 0:s.call(e,t)}),[t,e]);const u=l.useMemo(()=>({store:t,add:o}),[t,o]);return{wrapElement:l.useCallback(c=>V.jsx(Dn.Provider,{value:u,children:c}),[u]),nestedDialogs:n}}function Ii({attribute:t,contentId:e,contentElement:n,enabled:r}){const[o,u]=Yn(),i=l.useCallback(()=>{if(!r||!n)return!1;const{body:c}=G(n),s=c.getAttribute(t);return!s||s===e},[o,r,n,t,e]);return l.useEffect(()=>{if(!r||!e||!n)return;const{body:c}=G(n);if(i())return c.setAttribute(t,e),()=>c.removeAttribute(t);const s=new MutationObserver(()=>ct.flushSync(u));return s.observe(c,{attributeFilter:[t]}),()=>s.disconnect()},[o,r,e,n,i,t]),i}function wi(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Pi(t,e,n){const r=Ii({attribute:"data-dialog-prevent-body-scroll",contentElement:t,contentId:e,enabled:n});l.useEffect(()=>{if(!r()||!t)return;const o=G(t),u=jn(t),{documentElement:i,body:c}=o,s=i.style.getPropertyValue("--scrollbar-width"),a=s?Number.parseInt(s,10):u.innerWidth-i.clientWidth,f=()=>di(i,"--scrollbar-width",`${a}px`),E=wi(i),d=()=>Tt(c,{overflow:"hidden",[E]:`${a}px`}),m=()=>{var y,A;const{scrollX:x,scrollY:b,visualViewport:I}=u,P=(y=I==null?void 0:I.offsetLeft)!=null?y:0,C=(A=I==null?void 0:I.offsetTop)!=null?A:0,_=Tt(c,{position:"fixed",overflow:"hidden",top:`${-(b-Math.floor(C))}px`,left:`${-(x-Math.floor(P))}px`,right:"0",[E]:`${a}px`});return()=>{_(),u.scrollTo({left:x,top:b,behavior:"instant"})}},h=Nt()&&!Io();return ye(f(),h?m():d())},[r,t])}function pi(t,...e){if(!t)return!1;const n=t.getAttribute("data-focus-trap");return n==null?!1:e.length?n===""?!1:e.some(r=>n===r):!0}function wr(){return"inert"in HTMLElement.prototype}function Ai(t){return rn(t,"aria-hidden","true")}function Pr(t,e){if(!("style"in t))return et;if(wr())return Ue(t,"inert",!0);const r=vt(t,!0).map(o=>{if(e!=null&&e.some(i=>i&&ue(i,o)))return et;const u=ut(o,"focus",()=>(o.focus=et,()=>{delete o.focus}));return ye(rn(o,"tabindex","-1"),u)});return ye(...r,Ai(t),Tt(t,{pointerEvents:"none",userSelect:"none",cursor:"default"}))}function Di(t,e){const n=[],r=e.map(u=>u==null?void 0:u.id);return on(t,e,u=>{Cr(u,...r)||pi(u,...r)||n.unshift(Pr(u,e))},u=>{u.hasAttribute("role")&&(e.some(i=>i&&ue(i,u))||n.unshift(rn(u,"role","none")))}),()=>{for(const u of n)u()}}var Ti="div",Fi=["a","button","details","dialog","div","form","h1","h2","h3","h4","h5","h6","header","img","input","label","li","nav","ol","p","section","select","span","summary","textarea","ul","svg"];Y(function(e){return e});var Rt=q(function(e){return W(Ti,e)});Object.assign(Rt,Fi.reduce((t,e)=>(t[e]=q(function(r){return W(e,r)}),t),{}));function Ri({store:t,backdrop:e,alwaysVisible:n,hidden:r}){const o=l.useRef(null),u=Vu({disclosure:t}),i=ge(t,"contentElement");l.useEffect(()=>{const a=o.current,f=i;a&&f&&(a.style.zIndex=getComputedStyle(f).zIndex)},[i]),U(()=>{const a=i==null?void 0:i.id;if(!a)return;const f=o.current;if(f)return Ir(f,a)},[i]);const c=Qt({ref:o,store:u,role:"presentation","data-backdrop":(i==null?void 0:i.id)||"",alwaysVisible:n,hidden:r??void 0,style:{position:"fixed",top:0,right:0,bottom:0,left:0}});if(!e)return null;if(l.isValidElement(e))return V.jsx(Rt,{...c,render:e});const s=typeof e!="boolean"?e:"div";return V.jsx(Rt,{...c,render:V.jsx(s,{})})}function pr(t={}){return fr(t)}function Ar(t,e,n){return dr(t,e,n)}function Mi(t={}){const[e,n]=Wt(pr,t);return Ar(e,n,t)}var Li="div",Tn=lt();function ki(t){const e=Le();return!e||t&&ue(t,e)?!1:!!we(e)}function Fn(t,e=!1){if(!t)return null;const n="current"in t?t.current:t;return n?e?we(n)?n:null:n:null}var Dr=Y(function({store:e,open:n,onClose:r,focusable:o=!0,modal:u=!0,portal:i=!!u,backdrop:c=!!u,hideOnEscape:s=!0,hideOnInteractOutside:a=!0,getPersistentElements:f,preventBodyScroll:E=!!u,autoFocusOnShow:d=!0,autoFocusOnHide:m=!0,initialFocus:h,finalFocus:y,unmountOnHide:A,unstable_treeSnapshotKey:x,...b}){const I=bt(),P=l.useRef(null),C=Mi({store:e||I,open:n,setOpen(L){if(L)return;const j=P.current;if(!j)return;const re=new Event("close",{bubbles:!1,cancelable:!0});r&&j.addEventListener("close",r,{once:!0}),j.dispatchEvent(re),re.defaultPrevented&&C.setOpen(!0)}}),{portalRef:_,domReady:N}=Xn(i,b.portalRef),D=b.preserveTabOrder,T=ge(C,L=>D&&!u&&L.mounted),$=qe(b.id),v=ge(C,"open"),p=ge(C,"mounted"),R=ge(C,"contentElement"),S=Zt(p,b.hidden,b.alwaysVisible);Pi(R,$,E&&!S),yi(C,a,N);const{wrapElement:F,nestedDialogs:M}=Ci(C);b=be(b,F,[F]),U(()=>{if(!v)return;const L=P.current,j=Le(L,!0);j&&j.tagName!=="BODY"&&(L&&ue(L,j)||C.setDisclosureElement(j))},[C,v]),Tn&&l.useEffect(()=>{if(!p)return;const{disclosureElement:L}=C.getState();if(!L||!Be(L))return;const j=()=>{let re=!1;const H=()=>{re=!0},ae={capture:!0,once:!0};L.addEventListener("focusin",H,ae),Ge(L,"mouseup",()=>{L.removeEventListener("focusin",H,!0),!re&&nr(L)})};return L.addEventListener("mousedown",j),()=>{L.removeEventListener("mousedown",j)}},[C,p]),l.useEffect(()=>{if(!p||!N)return;const L=P.current;if(!L)return;const j=jn(L),re=j.visualViewport||j,H=()=>{var ae,he;const w=(he=(ae=j.visualViewport)==null?void 0:ae.height)!=null?he:j.innerHeight;L.style.setProperty("--dialog-viewport-height",`${w}px`)};return H(),re.addEventListener("resize",H),()=>{re.removeEventListener("resize",H)}},[p,N]),l.useEffect(()=>{if(!u||!p||!N)return;const L=P.current;if(!(!L||L.querySelector("[data-dialog-dismiss]")))return li(L,C.hide)},[C,u,p,N]),U(()=>{if(!wr()||v||!p||!N)return;const L=P.current;if(L)return Pr(L)},[v,p,N]);const g=v&&N;U(()=>{if(!$||!g)return;const L=P.current;return gi($,[L])},[$,g,x]);const O=B(f);U(()=>{if(!$||!g)return;const{disclosureElement:L}=C.getState(),j=P.current,re=O()||[],H=[j,...re,...M.map(ae=>ae.getState().contentElement)];return u?ye(An($,H),Di($,H)):An($,[L,...H])},[$,C,g,O,M,u,x]);const k=!!d,J=te(d),[ee,X]=l.useState(!1);l.useEffect(()=>{if(!v||!k||!N||!(R!=null&&R.isConnected))return;const L=Fn(h,!0)||R.querySelector("[data-autofocus=true],[autofocus]")||Yo(R,!0,i&&T)||R,j=we(L);J(j?L:null)&&(X(!0),queueMicrotask(()=>{L.focus(),Tn&&j&&L.scrollIntoView({block:"nearest",inline:"nearest"})}))},[v,k,N,R,h,i,T,J]);const Z=!!m,le=te(m),[pe,fe]=l.useState(!1);l.useEffect(()=>{if(v)return fe(!0),()=>fe(!1)},[v]);const de=l.useCallback((L,j=!0)=>{const{disclosureElement:re}=C.getState();if(ki(L))return;let H=Fn(y)||re;if(H!=null&&H.id){const he=G(H),w=`[aria-activedescendant="${H.id}"]`,K=he.querySelector(w);K&&(H=K)}if(H&&!we(H)){const he=H.closest("[data-dialog]");if(he!=null&&he.id){const w=G(he),K=`[aria-controls~="${he.id}"]`,Q=w.querySelector(K);Q&&(H=Q)}}const ae=H&&we(H);if(!ae&&j){requestAnimationFrame(()=>de(L,!1));return}le(ae?H:null)&&ae&&(H==null||H.focus({preventScroll:!0}))},[C,y,le]),ce=l.useRef(!1);U(()=>{if(v||!pe||!Z)return;const L=P.current;ce.current=!0,de(L)},[v,pe,N,Z,de]),l.useEffect(()=>{if(!pe||!Z)return;const L=P.current;return()=>{if(ce.current){ce.current=!1;return}de(L)}},[pe,Z,de]);const Ae=te(s);l.useEffect(()=>!N||!p?void 0:Ie("keydown",j=>{if(j.key!=="Escape"||j.defaultPrevented)return;const re=P.current;if(!re||un(re))return;const H=j.target;if(!H)return;const{disclosureElement:ae}=C.getState();!!(H.tagName==="BODY"||ue(re,H)||!ae||ue(ae,H))&&Ae(j)&&C.hide()},!0),[C,N,p,Ae]),b=be(b,L=>V.jsx(ci,{level:u?1:void 0,children:L}),[u]);const Ve=b.hidden,Ce=b.alwaysVisible;b=be(b,L=>c?V.jsxs(V.Fragment,{children:[V.jsx(Ri,{store:C,backdrop:c,hidden:Ve,alwaysVisible:Ce}),L]}):L,[C,c,Ve,Ce]);const[Pe,Ne]=l.useState(),[De,Oe]=l.useState();return b=be(b,L=>V.jsx(Jt,{value:C,children:V.jsx(Fu.Provider,{value:Ne,children:V.jsx(Ru.Provider,{value:Oe,children:L})})}),[C]),b={id:$,"data-dialog":"",role:"dialog",tabIndex:o?-1:void 0,"aria-labelledby":Pe,"aria-describedby":De,...b,ref:se(P,b.ref)},b=yr({...b,autoFocusOnShow:ee}),b=Qt({store:C,...b}),b=mt({...b,focusable:o}),b=Er({portal:i,...b,portalRef:_,preserveTabOrder:T}),b});function sn(t,e=bt){return q(function(r){const o=e(),u=r.store||o;return ge(u,c=>!r.unmountOnHide||(c==null?void 0:c.mounted)||!!r.open)?V.jsx(t,{...r}):null})}sn(q(function(e){const n=Dr(e);return W(Li,n)}),bt);var Vi="div";function Rn(t=0,e=0,n=0,r=0){if(typeof DOMRect=="function")return new DOMRect(t,e,n,r);const o={x:t,y:e,width:n,height:r,top:e,right:t+n,bottom:e+r,left:t};return{...o,toJSON:()=>o}}function Ni(t){if(!t)return Rn();const{x:e,y:n,width:r,height:o}=t;return Rn(e,n,r,o)}function Oi(t,e){return{contextElement:t||void 0,getBoundingClientRect:()=>{const r=t,o=e==null?void 0:e(r);return o||!r?Ni(o):r.getBoundingClientRect()}}}function $i(t){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(t)}function Mn(t){const e=window.devicePixelRatio||1;return Math.round(t*e)/e}function _i(t,e){return zr(({placement:n})=>{var r;const o=((t==null?void 0:t.clientHeight)||0)/2,u=typeof e.gutter=="number"?e.gutter+o:(r=e.gutter)!=null?r:o;return{crossAxis:!!n.split("-")[1]?void 0:e.shift,mainAxis:u,alignmentAxis:e.shift}})}function Bi(t){if(t.flip===!1)return;const e=typeof t.flip=="string"?t.flip.split(" "):void 0;return Se(!e||e.every($i),!1),Ur({padding:t.overflowPadding,fallbackPlacements:e})}function ji(t){if(!(!t.slide&&!t.overlap))return qr({mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding,limiter:Wr()})}function Ki(t){return Xr({padding:t.overflowPadding,apply({elements:e,availableWidth:n,availableHeight:r,rects:o}){const u=e.floating,i=Math.round(o.reference.width);n=Math.floor(n),r=Math.floor(r),u.style.setProperty("--popover-anchor-width",`${i}px`),u.style.setProperty("--popover-available-width",`${n}px`),u.style.setProperty("--popover-available-height",`${r}px`),t.sameWidth&&(u.style.width=`${i}px`),t.fitViewport&&(u.style.maxWidth=`${n}px`,u.style.maxHeight=`${r}px`)}})}function Hi(t,e){if(t)return Yr({element:t,padding:e.arrowPadding})}var Tr=Y(function({store:e,modal:n=!1,portal:r=!!n,preserveTabOrder:o=!0,autoFocusOnShow:u=!0,wrapperProps:i,fixed:c=!1,flip:s=!0,shift:a=0,slide:f=!0,overlap:E=!1,sameWidth:d=!1,fitViewport:m=!1,gutter:h,arrowPadding:y=4,overflowPadding:A=8,getAnchorRect:x,updatePosition:b,...I}){const P=tn();e=e||P,Se(e,!1);const C=e.useState("arrowElement"),_=e.useState("anchorElement"),N=e.useState("disclosureElement"),D=e.useState("popoverElement"),T=e.useState("contentElement"),$=e.useState("placement"),v=e.useState("mounted"),p=e.useState("rendered"),R=l.useRef(null),[S,F]=l.useState(!1),{portalRef:M,domReady:g}=Xn(r,I.portalRef),O=B(x),k=B(b),J=!!b;U(()=>{if(!(D!=null&&D.isConnected))return;D.style.setProperty("--popover-overflow-padding",`${A}px`);const X=Oi(_,O),Z=async()=>{if(!v)return;C||(R.current=R.current||document.createElement("div"));const fe=C||R.current,de=[_i(fe,{gutter:h,shift:a}),Bi({flip:s,overflowPadding:A}),ji({slide:f,overlap:E,overflowPadding:A}),Hi(fe,{arrowPadding:y}),Ki({sameWidth:d,fitViewport:m,overflowPadding:A})],ce=await Hr(X,D,{placement:$,strategy:c?"fixed":"absolute",middleware:de});e==null||e.setState("currentPlacement",ce.placement),F(!0);const Ae=Mn(ce.x),Ve=Mn(ce.y);if(Object.assign(D.style,{top:"0",left:"0",transform:`translate3d(${Ae}px,${Ve}px,0)`}),fe&&ce.middlewareData.arrow){const{x:Ce,y:Pe}=ce.middlewareData.arrow,Ne=ce.placement.split("-")[0],De=fe.clientWidth/2,Oe=fe.clientHeight/2,L=Ce!=null?Ce+De:-De,j=Pe!=null?Pe+Oe:-Oe;D.style.setProperty("--popover-transform-origin",{top:`${L}px calc(100% + ${Oe}px)`,bottom:`${L}px ${-Oe}px`,left:`calc(100% + ${De}px) ${j}px`,right:`${-De}px ${j}px`}[Ne]),Object.assign(fe.style,{left:Ce!=null?`${Ce}px`:"",top:Pe!=null?`${Pe}px`:"",[Ne]:"100%"})}},pe=Kr(X,D,async()=>{J?(await k({updatePosition:Z}),F(!0)):await Z()},{elementResize:typeof ResizeObserver=="function"});return()=>{F(!1),pe()}},[e,p,D,C,_,D,$,v,g,c,s,a,f,E,d,m,h,y,A,O,J,k]),U(()=>{if(!v||!g||!(D!=null&&D.isConnected)||!(T!=null&&T.isConnected))return;const X=()=>{D.style.zIndex=getComputedStyle(T).zIndex};X();let Z=requestAnimationFrame(()=>{Z=requestAnimationFrame(X)});return()=>cancelAnimationFrame(Z)},[v,g,D,T]);const ee=c?"fixed":"absolute";return I=be(I,X=>V.jsx("div",{...i,style:{position:ee,top:0,left:0,width:"max-content",...i==null?void 0:i.style},ref:e==null?void 0:e.setPopoverElement,children:X}),[e,ee,i]),I=be(I,X=>V.jsx(vr,{value:e,children:X}),[e]),I={"data-placing":!S||void 0,...I,style:{position:"relative",...I.style}},I=Dr({store:e,modal:n,portal:r,preserveTabOrder:o,preserveTabOrderAnchor:N||_,autoFocusOnShow:S&&u,...I,portalRef:M}),I});sn(q(function(e){const n=Tr(e);return W(Vi,n)}),tn);function zi({popover:t,...e}={}){const n=qt(e.store,or(t,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),r=n==null?void 0:n.getState(),o=pr({...e,store:n}),u=z(e.placement,r==null?void 0:r.placement,"bottom"),i={...o.getState(),placement:u,currentPlacement:u,anchorElement:z(r==null?void 0:r.anchorElement,null),popoverElement:z(r==null?void 0:r.popoverElement,null),arrowElement:z(r==null?void 0:r.arrowElement,null),rendered:Symbol("rendered")},c=Me(i,o,n);return{...o,...c,setAnchorElement:s=>c.setState("anchorElement",s),setPopoverElement:s=>c.setState("popoverElement",s),setArrowElement:s=>c.setState("arrowElement",s),render:()=>c.setState("rendered",Symbol("rendered"))}}function Ui(t,e,n){return rt(e,[n.popover]),oe(t,n,"placement"),Ar(t,e,n)}var qi="div",Fr=Y(function({store:e,...n}){const r=tn();return e=e||r,n={...n,ref:se(e==null?void 0:e.setAnchorElement,n.ref)},n});q(function(e){const n=Fr(e);return W(qi,n)});var Rr="button",Mr=Y(function(e){const n=l.useRef(null),r=Wn(n,Rr),[o,u]=l.useState(()=>!!r&&Be({tagName:r,type:e.type}));return l.useEffect(()=>{n.current&&u(Be(n.current))},[]),e={role:!o&&r!=="a"?"button":void 0,...e,ref:se(n,e.ref)},e=Ht(e),e});q(function(e){const n=Mr(e);return W(Rr,n)});var Wi="button",Yi=Symbol("disclosure"),Lr=Y(function({store:e,toggleOnClick:n=!0,...r}){const o=Xt();e=e||o,Se(e,!1);const u=l.useRef(null),[i,c]=l.useState(!1),s=e.useState("disclosureElement"),a=e.useState("open");l.useEffect(()=>{let A=s===u.current;s!=null&&s.isConnected||(e==null||e.setDisclosureElement(u.current),A=!0),c(a&&A)},[s,e,a]);const f=r.onClick,E=te(n),[d,m]=Gn(r,Yi,!0),h=B(A=>{f==null||f(A),!A.defaultPrevented&&(d||E(A)&&(e==null||e.setDisclosureElement(A.currentTarget),e==null||e.toggle()))}),y=e.useState("contentElement");return r={"aria-expanded":i,"aria-controls":y==null?void 0:y.id,...m,...r,ref:se(u,r.ref),onClick:h},r=Mr(r),r});q(function(e){const n=Lr(e);return W(Wi,n)});var Xi="button",kr=Y(function({store:e,...n}){const r=bt();e=e||r,Se(e,!1);const o=e.useState("contentElement");return n={"aria-haspopup":Hn(o,"dialog"),...n},n=Lr({store:e,...n}),n});q(function(e){const n=kr(e);return W(Xi,n)});var Gi="div";function Vr(t){const e=t.relatedTarget;return(e==null?void 0:e.nodeType)===Node.ELEMENT_NODE?e:null}function Ji(t){const e=Vr(t);return e?ue(t.currentTarget,e):!1}var Mt=Symbol("composite-hover");function Zi(t){let e=Vr(t);if(!e)return!1;do{if(Re(e,Mt)&&e[Mt])return!0;e=e.parentElement}while(e);return!1}var Nr=Y(function({store:e,focusOnHover:n=!0,blurOnHoverEnd:r=!!n,...o}){const u=Jn();e=e||u,Se(e,!1);const i=Mo(),c=o.onMouseMove,s=te(n),a=B(h=>{if(c==null||c(h),!h.defaultPrevented&&i()&&s(h)){if(!tr(h.currentTarget)){const y=e==null?void 0:e.getState().baseElement;y&&!ze(y)&&y.focus()}e==null||e.setActiveId(h.currentTarget.id)}}),f=o.onMouseLeave,E=te(r),d=B(h=>{var y;f==null||f(h),!h.defaultPrevented&&i()&&(Ji(h)||Zi(h)||s(h)&&E(h)&&(e==null||e.setActiveId(null),(y=e==null?void 0:e.getState().baseElement)==null||y.focus()))}),m=l.useCallback(h=>{h&&(h[Mt]=!0)},[]);return o={...o,ref:se(m,o.ref),onMouseMove:a,onMouseLeave:d},je(o)});$t(q(function(e){const n=Nr(e);return W(Gi,n)}));var Qi=l.createContext(!1),es="span",ts=V.jsx("svg",{display:"block",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,viewBox:"0 0 16 16",height:"1em",width:"1em",children:V.jsx("polyline",{points:"4,8 7,12 12,4"})});function ns(t){return t.checked?t.children||ts:typeof t.children=="function"?t.children:null}var Or=Y(function({store:e,checked:n,...r}){const o=l.useContext(Qi);n=n??o;const u=ns({checked:n,children:r.children});return r={"aria-hidden":!0,...r,children:u,style:{width:"1em",height:"1em",pointerEvents:"none",...r.style}},je(r)});q(function(e){const n=Or(e);return W(es,n)});var rs="input";function Ln(t,e,n){if(!n)return!1;const r=t.find(o=>!o.disabled&&o.value);return(r==null?void 0:r.value)===e}function kn(t,e){return!e||t==null?!1:(t=$n(t),e.length>t.length&&e.toLowerCase().indexOf(t.toLowerCase())===0)}function os(t){return t.type==="input"}function us(t){return t==="inline"||t==="list"||t==="both"||t==="none"}function is(t){const e=t.find(n=>{var r;return n.disabled?!1:((r=n.element)==null?void 0:r.getAttribute("role"))!=="tab"});return e==null?void 0:e.id}var ss=Y(function({store:e,focusable:n=!0,autoSelect:r=!1,getAutoSelectId:o,setValueOnChange:u,showMinLength:i=0,showOnChange:c,showOnMouseDown:s,showOnClick:a=s,showOnKeyDown:f,showOnKeyPress:E=f,blurActiveItemOnClick:d,setValueOnClick:m=!0,moveOnKeyPress:h=!0,autoComplete:y="list",...A}){const x=gt();e=e||x,Se(e,!1);const b=l.useRef(null),[I,P]=Yn(),C=l.useRef(!1),_=l.useRef(!1),N=e.useState(w=>w.virtualFocus&&r),D=y==="inline"||y==="both",[T,$]=l.useState(D);Ro(()=>{D&&$(!0)},[D]);const v=e.useState("value"),p=l.useRef();l.useEffect(()=>me(e,["selectedValue","activeId"],(w,K)=>{p.current=K.selectedValue}),[]);const R=e.useState(w=>{var K;if(D&&T&&!(w.activeValue&&Array.isArray(w.selectedValue)&&(w.selectedValue.includes(w.activeValue)||(K=p.current)!=null&&K.includes(w.activeValue))))return w.activeValue}),S=e.useState("renderedItems"),F=e.useState("open"),M=e.useState("contentElement"),g=l.useMemo(()=>{if(!D||!T)return v;if(Ln(S,R,N)){if(kn(v,R)){const K=(R==null?void 0:R.slice(v.length))||"";return v+K}return v}return R||v},[D,T,S,R,N,v]);l.useEffect(()=>{const w=b.current;if(!w)return;const K=()=>$(!0);return w.addEventListener("combobox-item-move",K),()=>{w.removeEventListener("combobox-item-move",K)}},[]),l.useEffect(()=>{if(!D||!T||!R||!Ln(S,R,N)||!kn(v,R))return;let K=et;return queueMicrotask(()=>{const Q=b.current;if(!Q)return;const{start:ne,end:xe}=pt(Q),Te=v.length,ie=R.length;ht(Q,Te,ie),K=()=>{if(!ze(Q))return;const{start:Ke,end:_r}=pt(Q);Ke===Te&&_r===ie&&ht(Q,ne,xe)}}),()=>K()},[I,D,T,R,S,N,v]);const O=l.useRef(null),k=B(o),J=l.useRef(null);l.useEffect(()=>{if(!F||!M)return;const w=Vt(M);if(!w)return;O.current=w;const K=()=>{C.current=!1},Q=()=>{if(!e||!C.current)return;const{activeId:xe}=e.getState();xe!==null&&xe!==J.current&&(C.current=!1)},ne={passive:!0,capture:!0};return w.addEventListener("wheel",K,ne),w.addEventListener("touchmove",K,ne),w.addEventListener("scroll",Q,ne),()=>{w.removeEventListener("wheel",K,!0),w.removeEventListener("touchmove",K,!0),w.removeEventListener("scroll",Q,!0)}},[F,M,e]),U(()=>{v&&(_.current||(C.current=!0))},[v]),U(()=>{N!=="always"&&F||(C.current=F)},[N,F]);const ee=e.useState("resetValueOnSelect");rt(()=>{var w,K;const Q=C.current;if(!e||!F||!Q&&!ee)return;const{baseElement:ne,contentElement:xe,activeId:Te}=e.getState();if(!(ne&&!ze(ne))){if(xe!=null&&xe.hasAttribute("data-placing")){const ie=new MutationObserver(P);return ie.observe(xe,{attributeFilter:["data-placing"]}),()=>ie.disconnect()}if(N&&Q){const ie=k(S),Ke=ie!==void 0?ie:(w=is(S))!=null?w:e.first();J.current=Ke,e.move(Ke??null)}else{const ie=(K=e.item(Te||e.first()))==null?void 0:K.element;ie&&"scrollIntoView"in ie&&ie.scrollIntoView({block:"nearest",inline:"nearest"})}}},[e,F,I,v,N,ee,k,S]),l.useEffect(()=>{if(!D)return;const w=b.current;if(!w)return;const K=[w,M].filter(ne=>!!ne),Q=ne=>{K.every(xe=>He(ne,xe))&&(e==null||e.setValue(g))};for(const ne of K)ne.addEventListener("focusout",Q);return()=>{for(const ne of K)ne.removeEventListener("focusout",Q)}},[D,M,e,g]);const X=w=>w.currentTarget.value.length>=i,Z=A.onChange,le=te(c??X),pe=te(u??!e.tag),fe=B(w=>{if(Z==null||Z(w),w.defaultPrevented||!e)return;const K=w.currentTarget,{value:Q,selectionStart:ne,selectionEnd:xe}=K,Te=w.nativeEvent;if(C.current=!0,os(Te)&&(Te.isComposing&&(C.current=!1,_.current=!0),D)){const ie=Te.inputType==="insertText"||Te.inputType==="insertCompositionText",Ke=ne===Q.length;$(ie&&Ke)}if(pe(w)){const ie=Q===e.getState().value;e.setValue(Q),queueMicrotask(()=>{ht(K,ne,xe)}),D&&N&&ie&&P()}le(w)&&e.show(),(!N||!C.current)&&e.setActiveId(null)}),de=A.onCompositionEnd,ce=B(w=>{C.current=!0,_.current=!1,de==null||de(w),!w.defaultPrevented&&N&&P()}),Ae=A.onMouseDown,Ve=te(d??(()=>!!(e!=null&&e.getState().includesBaseElement))),Ce=te(m),Pe=te(a??X),Ne=B(w=>{Ae==null||Ae(w),!w.defaultPrevented&&(w.button||w.ctrlKey||e&&(Ve(w)&&e.setActiveId(null),Ce(w)&&e.setValue(g),Pe(w)&&Ge(w.currentTarget,"mouseup",e.show)))}),De=A.onKeyDown,Oe=te(E??X),L=B(w=>{if(De==null||De(w),w.repeat||(C.current=!1),w.defaultPrevented||w.ctrlKey||w.altKey||w.shiftKey||w.metaKey||!e)return;const{open:K}=e.getState();K||(w.key==="ArrowUp"||w.key==="ArrowDown")&&Oe(w)&&(w.preventDefault(),e.show())}),j=A.onBlur,re=B(w=>{C.current=!1,j==null||j(w),w.defaultPrevented}),H=qe(A.id),ae=us(y)?y:void 0,he=e.useState(w=>w.activeId===null);return A={id:H,role:"combobox","aria-autocomplete":ae,"aria-haspopup":Hn(M,"listbox"),"aria-expanded":F,"aria-controls":M==null?void 0:M.id,"data-active-item":he||void 0,value:g,...A,ref:se(b,A.ref),onChange:fe,onCompositionEnd:ce,onMouseDown:Ne,onKeyDown:L,onBlur:re},A=lr({store:e,focusable:n,...A,moveOnKeyPress:w=>Bn(h,w)?!1:(D&&$(!0),!0)}),A=Fr({store:e,...A}),{autoComplete:"off",...A}}),Ns=q(function(e){const n=ss(e);return W(rs,n)}),cs="button",as=V.jsx("svg",{"aria-hidden":"true",display:"block",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,viewBox:"0 0 16 16",height:"1em",width:"1em",pointerEvents:"none",children:V.jsx("polyline",{points:"4,6 8,10 12,6"})}),ls=Y(function({store:e,...n}){const r=gt();e=e||r,Se(e,!1);const o=n.onMouseDown,u=B(a=>{o==null||o(a),a.preventDefault(),e==null||e.move(null)}),i=n.onClick,c=B(a=>{if(i==null||i(a),a.defaultPrevented||!e)return;const{baseElement:f}=e.getState();e.setDisclosureElement(f)}),s=e.useState("open");return n={children:as,tabIndex:-1,"aria-label":s?"Hide popup":"Show popup","aria-expanded":s,...n,onMouseDown:u,onClick:c},n=kr({store:e,...n}),n}),Os=q(function(e){const n=ls(e);return W(cs,n)}),fs="div";function ds(t,e){if(e!=null)return t==null?!1:Array.isArray(t)?t.includes(e):t===e}function vs(t){var e;return(e={menu:"menuitem",listbox:"option",tree:"treeitem"}[t])!=null?e:"option"}var ms=Y(function({store:e,value:n,hideOnClick:r,setValueOnClick:o,selectValueOnClick:u=!0,resetValueOnSelect:i,focusOnHover:c=!1,moveOnKeyPress:s=!0,getItem:a,...f}){var E;const d=nn();e=e||d,Se(e,!1);const{resetValueOnSelectState:m,multiSelectable:h,selected:y}=sr(e,{resetValueOnSelectState:"resetValueOnSelect",multiSelectable(v){return Array.isArray(v.selectedValue)},selected(v){return ds(v.selectedValue,n)}}),A=l.useCallback(v=>{const p={...v,value:n};return a?a(p):p},[n,a]);o=o??!h,r=r??(n!=null&&!h);const x=f.onClick,b=te(o),I=te(u),P=te((E=i??m)!=null?E:h),C=te(r),_=B(v=>{x==null||x(v),!v.defaultPrevented&&(Po(v)||wo(v)||(n!=null&&(I(v)&&(P(v)&&(e==null||e.resetValue()),e==null||e.setSelectedValue(p=>Array.isArray(p)?p.includes(n)?p.filter(R=>R!==n):[...p,n]:n)),b(v)&&(e==null||e.setValue(n))),C(v)&&(e==null||e.hide())))}),N=f.onKeyDown,D=B(v=>{if(N==null||N(v),v.defaultPrevented)return;const p=e==null?void 0:e.getState().baseElement;if(!p||ze(p))return;(v.key.length===1||v.key==="Backspace"||v.key==="Delete")&&(queueMicrotask(()=>p.focus()),ke(p)&&(e==null||e.setValue(p.value)))});h&&y!=null&&(f={"aria-selected":y,...f}),f=be(f,v=>V.jsx(Sr.Provider,{value:n,children:V.jsx(hr.Provider,{value:y??!1,children:v})}),[n,y]);const T=l.useContext(gr);f={role:vs(T),children:n,...f,onClick:_,onKeyDown:D};const $=te(s);return f=cr({store:e,...f,getItem:A,moveOnKeyPress:v=>{if(!$(v))return!1;const p=new Event("combobox-item-move"),R=e==null?void 0:e.getState().baseElement;return R==null||R.dispatchEvent(p),!0}}),f=Nr({store:e,focusOnHover:c,...f}),f}),$s=$t(q(function(e){const n=ms(e);return W(fs,n)})),bs="span",gs=Y(function({store:e,checked:n,...r}){const o=l.useContext(hr);return n=n??o,r=Or({...r,checked:n}),r}),_s=q(function(e){const n=gs(e);return W(bs,n)}),Ss="span";function Vn(t){return $n(t).toLowerCase()}function hs(t,e){const n=[];for(const r of e){let o=0;const u=r.length;for(;t.indexOf(r,o)!==-1;){const i=t.indexOf(r,o);i!==-1&&n.push([i,u]),o=i+1}}return n}function xs(t){return t.filter(([e,n],r,o)=>!o.some(([u,i],c)=>c!==r&&u<=e&&u+i>=e+n))}function Es(t){return t.sort(([e],[n])=>e-n)}function ys(t,e){if(!t||!e)return t;const n=Eu(e).filter(Boolean).map(Vn),r=[],o=(s,a=!1)=>V.jsx("span",{"data-autocomplete-value":a?"":void 0,"data-user-value":a?void 0:"",children:s},r.length),u=Es(xs(hs(Vn(t),new Set(n))));if(!u.length)return r.push(o(t,!0)),r;const[i]=u[0];return[t.slice(0,i),...u.flatMap(([s,a],f)=>{var E;const d=t.slice(s,s+a),m=(E=u[f+1])==null?void 0:E[0],h=t.slice(s+a,m);return[d,h]})].forEach((s,a)=>{s&&r.push(o(s,a%2===0))}),r}var Cs=Y(function({store:e,value:n,userValue:r,...o}){const u=nn();e=e||u;const i=l.useContext(Sr),c=n??i,s=ge(e,f=>r??(f==null?void 0:f.value));return o={children:l.useMemo(()=>{if(c)return s?ys(c,s):c},[c,s]),...o},je(o)}),Bs=q(function(e){const n=Cs(e);return W(Ss,n)}),Is="div",$r=Y(function({store:e,alwaysVisible:n,...r}){const o=nn(!0),u=Gu();e=e||u;const i=!!e&&e===o;Se(e,!1);const c=l.useRef(null),s=qe(r.id),a=e.useState("mounted"),f=Zt(a,r.hidden,n),E=f?{...r.style,display:"none"}:r.style,d=e.useState(P=>Array.isArray(P.selectedValue)),m=Fo(c,"role",r.role),y=(m==="listbox"||m==="tree"||m==="grid")&&d||void 0,[A,x]=l.useState(!1),b=e.useState("contentElement");U(()=>{if(!a)return;const P=c.current;if(!P||b!==P)return;const C=()=>{x(!!P.querySelector("[role='listbox']"))},_=new MutationObserver(C);return _.observe(P,{subtree:!0,childList:!0,attributeFilter:["role"]}),C(),()=>_.disconnect()},[a,b]),A||(r={role:"listbox","aria-multiselectable":y,...r}),r=be(r,P=>V.jsx(Zu,{value:e,children:V.jsx(gr.Provider,{value:m,children:P})}),[e,m]);const I=s&&(!o||!i)?e.setContentElement:null;return r={id:s,hidden:f,...r,ref:se(I,c,r.ref),style:E},je(r)});q(function(e){const n=$r(e);return W(Is,n)});var ws="div";function Ps(t,...e){if(!t)return!1;if("id"in t){const n=e.filter(Boolean).map(r=>`[aria-controls~="${r}"]`).join(", ");return n?t.matches(n):!1}return!1}var ps=Y(function({store:e,modal:n,tabIndex:r,alwaysVisible:o,autoFocusOnHide:u=!0,hideOnInteractOutside:i=!0,...c}){const s=gt();e=e||s,Se(e,!1);const a=e.useState("baseElement"),f=l.useRef(!1),E=ge(e.tag,d=>d==null?void 0:d.renderedItems.length);return c=$r({store:e,alwaysVisible:o,...c}),c=Tr({store:e,modal:n,alwaysVisible:o,backdrop:!1,autoFocusOnShow:!1,finalFocus:a,preserveTabOrderAnchor:null,unstable_treeSnapshotKey:E,...c,getPersistentElements(){var d;const m=((d=c.getPersistentElements)==null?void 0:d.call(c))||[];if(!n||!e)return m;const{contentElement:h,baseElement:y}=e.getState();if(!y)return m;const A=G(y),x=[];if(h!=null&&h.id&&x.push(`[aria-controls~="${h.id}"]`),y!=null&&y.id&&x.push(`[aria-controls~="${y.id}"]`),!x.length)return[...m,y];const b=x.join(","),I=A.querySelectorAll(b);return[...m,...I]},autoFocusOnHide(d){return Bn(u,d)?!1:f.current?(f.current=!1,!1):!0},hideOnInteractOutside(d){var m,h;const y=e==null?void 0:e.getState(),A=(m=y==null?void 0:y.contentElement)==null?void 0:m.id,x=(h=y==null?void 0:y.baseElement)==null?void 0:h.id;if(Ps(d.target,A,x))return!1;const b=typeof i=="function"?i(d):i;return b&&(f.current=d.type==="click"),b}}),c}),js=sn(q(function(e){const n=ps(e);return W(ws,n)}),gt);l.createContext(null);l.createContext(null);var As=We([Bt],[Zn]),Ds=As.useContext,Ts=lt()&&zn();function Fs({tag:t,...e}={}){const n=qt(e.store,mu(t,["value","rtl"])),r=t==null?void 0:t.getState(),o=n==null?void 0:n.getState(),u=z(e.activeId,o==null?void 0:o.activeId,e.defaultActiveId,null),i=Wu({...e,activeId:u,includesBaseElement:z(e.includesBaseElement,o==null?void 0:o.includesBaseElement,!0),orientation:z(e.orientation,o==null?void 0:o.orientation,"vertical"),focusLoop:z(e.focusLoop,o==null?void 0:o.focusLoop,!0),focusWrap:z(e.focusWrap,o==null?void 0:o.focusWrap,!0),virtualFocus:z(e.virtualFocus,o==null?void 0:o.virtualFocus,!0)}),c=zi({...e,placement:z(e.placement,o==null?void 0:o.placement,"bottom-start")}),s=z(e.value,o==null?void 0:o.value,e.defaultValue,""),a=z(e.selectedValue,o==null?void 0:o.selectedValue,r==null?void 0:r.values,e.defaultSelectedValue,""),f=Array.isArray(a),E={...i.getState(),...c.getState(),value:s,selectedValue:a,resetValueOnSelect:z(e.resetValueOnSelect,o==null?void 0:o.resetValueOnSelect,f),resetValueOnHide:z(e.resetValueOnHide,o==null?void 0:o.resetValueOnHide,f&&!t),activeValue:o==null?void 0:o.activeValue},d=Me(E,i,c,n);return Ts&&ve(d,()=>me(d,["virtualFocus"],()=>{d.setState("virtualFocus",!1)})),ve(d,()=>{if(t)return ye(me(d,["selectedValue"],m=>{Array.isArray(m.selectedValue)&&t.setValues(m.selectedValue)}),me(t,["values"],m=>{d.setState("selectedValue",m.values)}))}),ve(d,()=>me(d,["resetValueOnHide","mounted"],m=>{m.resetValueOnHide&&(m.mounted||d.setState("value",s))})),ve(d,()=>me(d,["open"],m=>{m.open||(d.setState("activeId",u),d.setState("moves",0))})),ve(d,()=>me(d,["moves","activeId"],(m,h)=>{m.moves===h.moves&&d.setState("activeValue",void 0)})),ve(d,()=>at(d,["moves","renderedItems"],(m,h)=>{if(m.moves===h.moves)return;const{activeId:y}=d.getState(),A=i.item(y);d.setState("activeValue",A==null?void 0:A.value)})),{...c,...i,...d,tag:t,setValue:m=>d.setState("value",m),resetValue:()=>d.setState("value",E.value),setSelectedValue:m=>d.setState("selectedValue",m)}}function Rs(t){const e=Ds();return t={...t,tag:t.tag!==void 0?t.tag:e},Yu(t)}function Ms(t,e,n){return rt(e,[n.tag]),oe(t,n,"value","setValue"),oe(t,n,"selectedValue","setSelectedValue"),oe(t,n,"resetValueOnHide"),oe(t,n,"resetValueOnSelect"),Object.assign(Xu(Ui(t,e,n),e,n),{tag:n.tag})}function Ls(t={}){t=Rs(t);const[e,n]=Wt(Fs,t);return Ms(e,n,t)}function Ks(t={}){const e=Ls(t);return V.jsx(Ju,{value:e,children:t.children})}export{Ks as C,Vs as S,Ns as a,Os as b,js as c,$s as d,_s as e,Bs as f};
