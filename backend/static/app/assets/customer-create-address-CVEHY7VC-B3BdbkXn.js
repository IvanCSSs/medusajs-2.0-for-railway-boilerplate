import{C as h}from"./chunk-BW4QA6B6-D7Qkz6P4.js";import{j as e,u as y,a as f,c as C,e as _,dr as g,t as c,H as F,q as b,F as s,I as n,B as i,o as v,s as a}from"./index-S35l5lon.js";import{K as z}from"./chunk-6HTZNHPT-USxWRfar.js";import{R as t,u as E}from"./chunk-AERWK3TJ-Gph8MRZF.js";import"./select-CmrtK7XQ.js";import"./check-B9bFzKnZ.js";import"./triangles-mini-CX2619vl.js";import"./focus-modal-B7NOABos.js";import"./prompt-YaiseBxh.js";var I=v({address_name:a().min(1),address_1:a().min(1),address_2:a().optional(),country_code:a().min(2).max(2),city:a().optional(),postal_code:a().optional(),province:a().optional(),company:a().optional(),phone:a().optional()}),M=()=>{const{t:o}=y(),{id:d}=f(),{handleSuccess:m}=E(),l=C({defaultValues:{address_name:"",address_1:"",address_2:"",city:"",company:"",country_code:"",phone:"",postal_code:"",province:""},resolver:_(I)}),{mutateAsync:x,isPending:j}=g(d),p=l.handleSubmit(async r=>{await x({address_name:r.address_name,address_1:r.address_1,address_2:r.address_2,country_code:r.country_code,city:r.city,postal_code:r.postal_code,province:r.province,company:r.company,phone:r.phone},{onSuccess:()=>{c.success(o("customers.addresses.create.successToast")),m(`/customers/${d}`)},onError:u=>{c.error(u.message)}})});return e.jsx(t.Form,{form:l,children:e.jsxs(z,{onSubmit:p,className:"flex h-full flex-col overflow-hidden",children:[e.jsx(t.Header,{}),e.jsx(t.Body,{className:"flex flex-1 flex-col overflow-hidden",children:e.jsx("div",{className:"flex flex-1 flex-col items-center overflow-y-auto",children:e.jsxs("div",{className:"flex w-full max-w-[720px] flex-col gap-y-8 px-2 py-16",children:[e.jsxs("div",{children:[e.jsx(F,{className:"capitalize",children:o("customers.addresses.create.header")}),e.jsx(b,{size:"small",className:"text-ui-fg-subtle",children:o("customers.addresses.create.hint")})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsx(s.Field,{control:l.control,name:"address_name",render:({field:r})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{children:o("customers.addresses.fields.addressName")}),e.jsx(s.Control,{children:e.jsx(n,{size:"small",autoComplete:"address_name",...r})}),e.jsx(s.ErrorMessage,{})]})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(s.Field,{control:l.control,name:"address_1",render:({field:r})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{children:o("fields.address")}),e.jsx(s.Control,{children:e.jsx(n,{size:"small",autoComplete:"address_1",...r})}),e.jsx(s.ErrorMessage,{})]})}),e.jsx(s.Field,{control:l.control,name:"address_2",render:({field:r})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{optional:!0,children:o("fields.address2")}),e.jsx(s.Control,{children:e.jsx(n,{size:"small",autoComplete:"address_2",...r})}),e.jsx(s.ErrorMessage,{})]})}),e.jsx(s.Field,{control:l.control,name:"postal_code",render:({field:r})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{optional:!0,children:o("fields.postalCode")}),e.jsx(s.Control,{children:e.jsx(n,{size:"small",autoComplete:"postal_code",...r})}),e.jsx(s.ErrorMessage,{})]})}),e.jsx(s.Field,{control:l.control,name:"city",render:({field:r})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{optional:!0,children:o("fields.city")}),e.jsx(s.Control,{children:e.jsx(n,{size:"small",autoComplete:"city",...r})}),e.jsx(s.ErrorMessage,{})]})}),e.jsx(s.Field,{control:l.control,name:"country_code",render:({field:r})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{children:o("fields.country")}),e.jsx(s.Control,{children:e.jsx(h,{autoComplete:"country_code",...r})}),e.jsx(s.ErrorMessage,{})]})}),e.jsx(s.Field,{control:l.control,name:"province",render:({field:r})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{optional:!0,children:o("fields.state")}),e.jsx(s.Control,{children:e.jsx(n,{size:"small",autoComplete:"province",...r})}),e.jsx(s.ErrorMessage,{})]})}),e.jsx(s.Field,{control:l.control,name:"company",render:({field:r})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{optional:!0,children:o("fields.company")}),e.jsx(s.Control,{children:e.jsx(n,{size:"small",autoComplete:"company",...r})}),e.jsx(s.ErrorMessage,{})]})}),e.jsx(s.Field,{control:l.control,name:"phone",render:({field:r})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{optional:!0,children:o("fields.phone")}),e.jsx(s.Control,{children:e.jsx(n,{size:"small",autoComplete:"phone",...r})}),e.jsx(s.ErrorMessage,{})]})})]})]})})}),e.jsx(t.Footer,{children:e.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[e.jsx(t.Close,{asChild:!0,children:e.jsx(i,{size:"small",variant:"secondary",children:o("actions.cancel")})}),e.jsx(i,{type:"submit",size:"small",isLoading:j,children:o("actions.save")})]})})]})})},K=()=>e.jsx(t,{children:e.jsx(M,{})});export{K as Component};
