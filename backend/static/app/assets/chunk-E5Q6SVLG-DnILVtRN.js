import{u as w,b as E,d as T,e as q}from"./chunk-C3TFORYK-CR60shj4.js";import{j as a,dB as D,r as f,as as B,bI as I}from"./index-S35l5lon.js";import{C as L}from"./index.esm-BQ-YgayW.js";var S=({context:l,disabledToggleTooltip:h,...i})=>{const{field:c,control:u,renderProps:e}=w({context:l}),p=E({context:l}),{container:n,input:r}=e;return a.jsx(D,{control:u,name:c,render:({field:d})=>a.jsx(T,{...n,...p,outerComponent:a.jsx(R,{field:d,inputProps:r,isAnchor:n.isAnchor,tooltip:h}),children:a.jsx(V,{field:d,inputProps:r,...i})})})},R=({field:l,inputProps:h,isAnchor:i,tooltip:c})=>{const u=f.useRef(null),{value:e}=l,{onChange:p}=h,[n,r]=f.useState(e);f.useEffect(()=>{r(e)},[e]);const d=o=>{const t={...n,checked:o};!o&&!t.disabledToggle&&(t.quantity=""),o&&t.quantity===""&&(t.quantity=0),r(t),p(t,e)};return f.useEffect(()=>{const o=t=>{var C;i&&t.key.toLowerCase()==="x"&&(t.preventDefault(),(C=u.current)==null||C.click())};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[i]),a.jsx(B,{showTooltip:n.disabledToggle&&c,content:c,children:a.jsx("div",{className:"absolute inset-y-0 left-4 z-[3] flex w-fit items-center justify-center",children:a.jsx(I,{dir:"ltr",ref:u,size:"small",className:"shrink-0 rtl:rotate-180",checked:n.checked,disabled:n.disabledToggle,onCheckedChange:d})})})},V=({field:l,inputProps:h,placeholder:i,...c})=>{const{ref:u,value:e,onChange:p,onBlur:n,...r}=l,{ref:d,onChange:o,onBlur:t,onFocus:C,...v}=h,[s,g]=f.useState(e);f.useEffect(()=>{g(e)},[e]);const k=q(d,u),y=(x,N,P)=>{const b=x!==void 0?x:"",m={...s,quantity:b};b!==""?m.checked=!0:m.checked&&m.disabledToggle===!1&&(m.checked=!1),g(m)},j=()=>{s.disabledToggle&&s.quantity===""&&(s.quantity=0),o(s,e)};return a.jsx("div",{className:"flex size-full items-center gap-x-2",children:a.jsx(L,{...r,...v,...c,ref:k,className:"txt-compact-small w-full flex-1 cursor-default appearance-none bg-transparent pl-8 text-right outline-none",value:s==null?void 0:s.quantity,onValueChange:y,formatValueOnBlur:!0,onBlur:()=>{n(),t(),j()},onFocus:C,decimalsLimit:0,autoComplete:"off",tabIndex:-1,placeholder:s.checked?void 0:i})})};export{S as D};
